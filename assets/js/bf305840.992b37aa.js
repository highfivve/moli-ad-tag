"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[1953],{72771:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var s=n(85893),i=n(11151);const l={id:"apstag.IApsTag",title:"Interface: IApsTag",sidebar_label:"IApsTag",custom_edit_url:null},d=void 0,r={id:"api/interfaces/apstag.IApsTag",title:"Interface: IApsTag",description:"apstag.IApsTag",source:"@site/docs/api/interfaces/apstag.IApsTag.md",sourceDirName:"api/interfaces",slug:"/api/interfaces/apstag.IApsTag",permalink:"/moli-ad-tag/docs/api/interfaces/apstag.IApsTag",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"apstag.IApsTag",title:"Interface: IApsTag",sidebar_label:"IApsTag",custom_edit_url:null},sidebar:"API",previous:{title:"ISupplyChainObject",permalink:"/moli-ad-tag/docs/api/interfaces/SupplyChainObject.ISupplyChainObject"},next:{title:"IBidConfig",permalink:"/moli-ad-tag/docs/api/interfaces/apstag.IBidConfig"}},a={},c=[{value:"Properties",id:"properties",level:2},{value:"_Q",id:"_q",level:3},{value:"Methods",id:"methods",level:2},{value:"dpa",id:"dpa",level:3},{value:"Delete Token",id:"delete-token",level:2},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"fetchBids",id:"fetchbids",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"init",id:"init",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"rpa",id:"rpa",level:3},{value:"Renew token",id:"renew-token",level:2},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"setDisplayBids",id:"setdisplaybids",level:3},{value:"Returns",id:"returns-4",level:4},{value:"targetingKeys",id:"targetingkeys",level:3},{value:"Returns",id:"returns-5",level:4},{value:"upa",id:"upa",level:3},{value:"Update token",id:"update-token",level:2},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-6",level:4}];function h(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"/moli-ad-tag/docs/api/namespaces/apstag",children:"apstag"}),".IApsTag"]}),"\n",(0,s.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(t.h3,{id:"_q",children:"_Q"}),"\n",(0,s.jsxs)(t.p,{children:["\u2022 ",(0,s.jsx)(t.strong,{children:"_Q"}),": [",(0,s.jsx)(t.code,{children:"string"}),", ",(0,s.jsx)(t.code,{children:"IArguments"}),"][]"]}),"\n",(0,s.jsx)(t.p,{children:"Command queue on the 'apstag' window object"}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.h3,{id:"dpa",children:"dpa"}),"\n",(0,s.jsxs)(t.p,{children:["\u25b8 ",(0,s.jsx)(t.strong,{children:"dpa"}),"(",(0,s.jsx)(t.code,{children:"callback?"}),"): ",(0,s.jsx)(t.code,{children:"any"})]}),"\n",(0,s.jsx)(t.h2,{id:"delete-token",children:"Delete Token"}),"\n",(0,s.jsx)(t.p,{children:"This function can be called to delete the AMZN-token without configuring arguments.\nThis method should be used when you prefer to delete the token explicitly."}),"\n",(0,s.jsx)(t.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"callback?"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["() => ",(0,s.jsx)(t.code,{children:"void"})]})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"returns",children:"Returns"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"any"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"See"})})}),"\n",(0,s.jsx)(t.p,{children:"Amazon Publisher Audiences documentation"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"fetchbids",children:"fetchBids"}),"\n",(0,s.jsxs)(t.p,{children:["\u25b8 ",(0,s.jsx)(t.strong,{children:"fetchBids"}),"(",(0,s.jsx)(t.code,{children:"bidConfig"}),", ",(0,s.jsx)(t.code,{children:"callback"}),"): ",(0,s.jsx)(t.code,{children:"void"})]}),"\n",(0,s.jsx)(t.p,{children:"This method requests bids asynchronously then executes the provided callback function. The callback is executed\nwhen the network request for bids is returned to the page, or when the timeout is reached."}),"\n",(0,s.jsx)(t.p,{children:"To request bids, call apstag.fetchBids with a bidConfig argument that includes what slots to run auctions for and\nthe function to execute when the bids are returned to the page."}),"\n",(0,s.jsx)(t.p,{children:"Slot IDs must match the div IDs that contains the ad slots, and this ID is echoed back in the bid response in the\nSlotID property to associate that bid with the slot."}),"\n",(0,s.jsx)(t.p,{children:"NOTE: The slot IDs and sizes on your site may vary by page/template"}),"\n",(0,s.jsx)(t.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"bidConfig"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"/moli-ad-tag/docs/api/interfaces/apstag.IBidConfig",children:(0,s.jsx)(t.code,{children:"IBidConfig"})})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"callback"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["(",(0,s.jsx)(t.code,{children:"bids"}),": ",(0,s.jsx)(t.code,{children:"Object"}),"[]) => ",(0,s.jsx)(t.code,{children:"void"})]})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"returns-1",children:"Returns"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"void"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"init",children:"init"}),"\n",(0,s.jsxs)(t.p,{children:["\u25b8 ",(0,s.jsx)(t.strong,{children:"init"}),"(",(0,s.jsx)(t.code,{children:"config"}),"): ",(0,s.jsx)(t.code,{children:"void"})]}),"\n",(0,s.jsx)(t.p,{children:"Set the configuration for apstag operation.\nThis method should only be called once and must be called prior to calling apstag.fetchBids()."}),"\n",(0,s.jsx)(t.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"config"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"/moli-ad-tag/docs/api/interfaces/apstag.IInitConfig",children:(0,s.jsx)(t.code,{children:"IInitConfig"})})})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"returns-2",children:"Returns"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"void"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"rpa",children:"rpa"}),"\n",(0,s.jsxs)(t.p,{children:["\u25b8 ",(0,s.jsx)(t.strong,{children:"rpa"}),"(",(0,s.jsx)(t.code,{children:"tokenConfig"}),", ",(0,s.jsx)(t.code,{children:"callback?"}),"): ",(0,s.jsx)(t.code,{children:"any"})]}),"\n",(0,s.jsx)(t.h2,{id:"renew-token",children:"Renew token"}),"\n",(0,s.jsxs)(t.p,{children:["This function should be called every time a page loads and there are hashed record(s) available for the current\nuser. Where GDPR applies, this method should only be called after the CMP has loaded and after the user has\nconfigured their consent. This function will create an ",(0,s.jsx)(t.code,{children:"AMZN-token"}),", if one does not already exist, or if the existing\ntoken has expired, and will store that token in the 1st party cookie space"]}),"\n",(0,s.jsx)(t.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"tokenConfig"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"/moli-ad-tag/docs/api/interfaces/apstag.ITokenConfig",children:(0,s.jsx)(t.code,{children:"ITokenConfig"})})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"callback?"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["() => ",(0,s.jsx)(t.code,{children:"void"})]})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"returns-3",children:"Returns"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"any"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"See"})})}),"\n",(0,s.jsx)(t.p,{children:"Amazon Publisher Audiences documentation"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"setdisplaybids",children:"setDisplayBids"}),"\n",(0,s.jsxs)(t.p,{children:["\u25b8 ",(0,s.jsx)(t.strong,{children:"setDisplayBids"}),"(): ",(0,s.jsx)(t.code,{children:"void"})]}),"\n",(0,s.jsx)(t.p,{children:"If you have set googletag as the config.adServer in apstag.init(), this method will set the bid targeting on the\ngoogletag slots."}),"\n",(0,s.jsx)(t.h4,{id:"returns-4",children:"Returns"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"void"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"targetingkeys",children:"targetingKeys"}),"\n",(0,s.jsxs)(t.p,{children:["\u25b8 ",(0,s.jsx)(t.strong,{children:"targetingKeys"}),"(): ",(0,s.jsx)(t.code,{children:"void"})]}),"\n",(0,s.jsx)(t.p,{children:"Returns an array of targeting keys associated with the bid objects"}),"\n",(0,s.jsx)(t.h4,{id:"returns-5",children:"Returns"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"void"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"upa",children:"upa"}),"\n",(0,s.jsxs)(t.p,{children:["\u25b8 ",(0,s.jsx)(t.strong,{children:"upa"}),"(",(0,s.jsx)(t.code,{children:"tokenConfig"}),", ",(0,s.jsx)(t.code,{children:"callback?"}),"): ",(0,s.jsx)(t.code,{children:"any"})]}),"\n",(0,s.jsx)(t.h2,{id:"update-token",children:"Update token"}),"\n",(0,s.jsx)(t.p,{children:"This function should be called every time an event occurs that would change the value of the AMZN-token.\nSimilar to the apstag.rpa, where GDPR applies, this method should only be called after the CMP has loaded\nand after the user has configured their consent. When this function is called, it will delete the current AMZN-\ntoken (if one exists), create a new AMZN-token, and save it on the client."}),"\n",(0,s.jsx)(t.p,{children:"Events for which apstag.upa should be called:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"User logs in."}),"\n",(0,s.jsx)(t.li,{children:"Change in GDPR consent."}),"\n",(0,s.jsx)(t.li,{children:"User chooses to Opt-Out of sharing their records for advertising purposes or similar opt-out (\u201cOpt Out\u201d)."}),"\n",(0,s.jsx)(t.li,{children:"If a user opts-in after previously Opting-Out."}),"\n",(0,s.jsx)(t.li,{children:"User changes (adds, edits, deletes) their record(s)."}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Name"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"tokenConfig"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.a,{href:"/moli-ad-tag/docs/api/interfaces/apstag.ITokenConfig",children:(0,s.jsx)(t.code,{children:"ITokenConfig"})})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"callback?"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["() => ",(0,s.jsx)(t.code,{children:"void"})]})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"returns-6",children:"Returns"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"any"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"See"})})}),"\n",(0,s.jsx)(t.p,{children:"Amazon Publisher Audiences documentation"})]})}function o(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>d});var s=n(67294);const i={},l=s.createContext(i);function d(e){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);