(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{242:function(e,i,t){"use strict";t.r(i),t.d(i,"frontMatter",(function(){return r})),t.d(i,"metadata",(function(){return l})),t.d(i,"toc",(function(){return c})),t.d(i,"default",(function(){return d}));var n=t(3),o=t(7),a=(t(0),t(327)),r={id:"yield_optimization",title:"Module: yield-optimization",sidebar_label:"yield-optimization",custom_edit_url:null,hide_title:!0},l={unversionedId:"modules/modules/yield_optimization",id:"modules/modules/yield_optimization",isDocsHomePage:!1,title:"Module: yield-optimization",description:"Module: yield-optimization",source:"@site/docs/modules/modules/yield_optimization.md",slug:"/modules/modules/yield_optimization",permalink:"/docs/modules/modules/yield_optimization",editUrl:null,version:"current",sidebar_label:"yield-optimization",sidebar:"docs",previous:{title:"Module: sovrn-ad-reload",permalink:"/docs/modules/modules/sovrn_ad_reload"},next:{title:"Module: zeotap",permalink:"/docs/modules/modules/zeotap"}},c=[{value:"Requirements",id:"requirements",children:[]},{value:"Integration",id:"integration",children:[{value:"Dynamic optimization",id:"dynamic-optimization",children:[]},{value:"Static",id:"static",children:[]},{value:"None",id:"none",children:[]}]},{value:"Table of contents",id:"table-of-contents",children:[{value:"Classes",id:"classes",children:[]}]},{value:"Type aliases",id:"type-aliases",children:[{value:"AdunitPriceRulesResponse",id:"adunitpricerulesresponse",children:[]},{value:"DynamicYieldOptimizationConfig",id:"dynamicyieldoptimizationconfig",children:[]},{value:"IYieldOptimizationConfig",id:"iyieldoptimizationconfig",children:[]},{value:"NoYieldOptimizationConfig",id:"noyieldoptimizationconfig",children:[]},{value:"PriceRules",id:"pricerules",children:[]},{value:"StaticYieldOptimizationConfig",id:"staticyieldoptimizationconfig",children:[]},{value:"YieldOptimizationConfig",id:"yieldoptimizationconfig",children:[]},{value:"YieldOptimizationConfigProvider",id:"yieldoptimizationconfigprovider",children:[]}]}],p={toc:c};function d(e){var i=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},p,t,{components:i,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"module-yield-optimization"},"Module: yield-optimization"),Object(a.b)("h1",{id:"yield-optimization"},"Yield Optimization"),Object(a.b)("p",null,"This module allows you to apply floor prices to all supporting bidders and setting\na unified pricing rule for GAM."),Object(a.b)("h2",{id:"requirements"},"Requirements"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Unified pricing rules setup in GAM"),Object(a.b)("li",{parentName:"ul"},"Server providing the yield configuration")),Object(a.b)("h2",{id:"integration"},"Integration"),Object(a.b)("p",null,"In your ",Object(a.b)("inlineCode",{parentName:"p"},"index.ts")," import the generic-skin module and register it."),Object(a.b)("h3",{id:"dynamic-optimization"},"Dynamic optimization"),Object(a.b)("p",null,"This requires and endpoint that provides the yield config."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-javascript"},"import { YieldOptimization } from '@highfivve/module-yield-optimization'\n\nmoli.registerModule(new YieldOptimization({\n  provider: 'dynamic',\n  configEndpoint: 'https://yield.h5v.eu/config/gutefrage'\n}, window));\n")),Object(a.b)("h3",{id:"static"},"Static"),Object(a.b)("p",null,"For local testing or base settings you can define static rules."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-javascript"},"import { YieldOptimization } from '@highfivve/module-yield-optimization'\n\nmoli.registerModule(new YieldOptimization({\n  provider: 'static',\n  config: {\n    rules: {\n      'ad-unit-dom-id-1': {\n        priceRuleId: 123,\n        floorpirce: 0.1,\n        main: true\n      }\n    }\n  }\n}, window));\n")),Object(a.b)("h3",{id:"none"},"None"),Object(a.b)("p",null,"If you want to turn off the optimization you can also provide ",Object(a.b)("inlineCode",{parentName:"p"},"none")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-javascript"},"import { YieldOptimization } from '@highfivve/module-yield-optimization'\n\nmoli.registerModule(new YieldOptimization({  provider: 'none'}, window));\n")),Object(a.b)("h2",{id:"table-of-contents"},"Table of contents"),Object(a.b)("h3",{id:"classes"},"Classes"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"/docs/modules/classes/yield_optimization.yieldoptimization"},"YieldOptimization"))),Object(a.b)("h2",{id:"type-aliases"},"Type aliases"),Object(a.b)("h3",{id:"adunitpricerulesresponse"},"AdunitPriceRulesResponse"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"AdunitPriceRulesResponse"),": ",Object(a.b)("em",{parentName:"p"},"object")),Object(a.b)("p",null,"Response from the yield optimization server"),Object(a.b)("h4",{id:"type-declaration"},"Type declaration:"),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",{parentName:"tr",align:"left"},"Name"),Object(a.b)("th",{parentName:"tr",align:"left"},"Type"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},Object(a.b)("inlineCode",{parentName:"td"},"rules")),Object(a.b)("td",{parentName:"tr",align:"left"},Object(a.b)("a",{parentName:"td",href:"/docs/modules/modules/yield_optimization#pricerules"},Object(a.b)("em",{parentName:"a"},"PriceRules")))))),Object(a.b)("hr",null),Object(a.b)("h3",{id:"dynamicyieldoptimizationconfig"},"DynamicYieldOptimizationConfig"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"DynamicYieldOptimizationConfig"),": ",Object(a.b)("a",{parentName:"p",href:"/docs/modules/modules/yield_optimization#iyieldoptimizationconfig"},Object(a.b)("em",{parentName:"a"},"IYieldOptimizationConfig"))," & { ",Object(a.b)("inlineCode",{parentName:"p"},"configEndpoint"),": ",Object(a.b)("em",{parentName:"p"},"string")," ; ",Object(a.b)("inlineCode",{parentName:"p"},"provider"),": ",Object(a.b)("em",{parentName:"p"},"dynamic"),"  }"),Object(a.b)("p",null,"A dynamic configuration"),Object(a.b)("hr",null),Object(a.b)("h3",{id:"iyieldoptimizationconfig"},"IYieldOptimizationConfig"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"IYieldOptimizationConfig"),": ",Object(a.b)("em",{parentName:"p"},"object")),Object(a.b)("h4",{id:"type-declaration-1"},"Type declaration:"),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",{parentName:"tr",align:"left"},"Name"),Object(a.b)("th",{parentName:"tr",align:"left"},"Type"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},Object(a.b)("inlineCode",{parentName:"td"},"provider")),Object(a.b)("td",{parentName:"tr",align:"left"},Object(a.b)("a",{parentName:"td",href:"/docs/modules/modules/yield_optimization#yieldoptimizationconfigprovider"},Object(a.b)("em",{parentName:"a"},"YieldOptimizationConfigProvider")))))),Object(a.b)("hr",null),Object(a.b)("h3",{id:"noyieldoptimizationconfig"},"NoYieldOptimizationConfig"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"NoYieldOptimizationConfig"),": ",Object(a.b)("a",{parentName:"p",href:"/docs/modules/modules/yield_optimization#iyieldoptimizationconfig"},Object(a.b)("em",{parentName:"a"},"IYieldOptimizationConfig"))," & { ",Object(a.b)("inlineCode",{parentName:"p"},"provider"),": ",Object(a.b)("em",{parentName:"p"},"none"),"  }"),Object(a.b)("p",null,"No key values will be applied. The system is inactive."),Object(a.b)("hr",null),Object(a.b)("h3",{id:"pricerules"},"PriceRules"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"PriceRules"),": ",Object(a.b)("em",{parentName:"p"},"object")),Object(a.b)("h4",{id:"type-declaration-2"},"Type declaration:"),Object(a.b)("hr",null),Object(a.b)("h3",{id:"staticyieldoptimizationconfig"},"StaticYieldOptimizationConfig"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"StaticYieldOptimizationConfig"),": ",Object(a.b)("a",{parentName:"p",href:"/docs/modules/modules/yield_optimization#iyieldoptimizationconfig"},Object(a.b)("em",{parentName:"a"},"IYieldOptimizationConfig"))," & { ",Object(a.b)("inlineCode",{parentName:"p"},"config"),": ",Object(a.b)("a",{parentName:"p",href:"/docs/modules/modules/yield_optimization#adunitpricerulesresponse"},Object(a.b)("em",{parentName:"a"},"AdunitPriceRulesResponse"))," ; ",Object(a.b)("inlineCode",{parentName:"p"},"provider"),": ",Object(a.b)("em",{parentName:"p"},"static"),"  }"),Object(a.b)("p",null,"A static configuration for all ad units. This is to emulate server requests"),Object(a.b)("hr",null),Object(a.b)("h3",{id:"yieldoptimizationconfig"},"YieldOptimizationConfig"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"YieldOptimizationConfig"),": ",Object(a.b)("a",{parentName:"p",href:"/docs/modules/modules/yield_optimization#noyieldoptimizationconfig"},Object(a.b)("em",{parentName:"a"},"NoYieldOptimizationConfig"))," ","|"," ",Object(a.b)("a",{parentName:"p",href:"/docs/modules/modules/yield_optimization#staticyieldoptimizationconfig"},Object(a.b)("em",{parentName:"a"},"StaticYieldOptimizationConfig"))," ","|"," ",Object(a.b)("a",{parentName:"p",href:"/docs/modules/modules/yield_optimization#dynamicyieldoptimizationconfig"},Object(a.b)("em",{parentName:"a"},"DynamicYieldOptimizationConfig"))),Object(a.b)("p",null,"Available options to configure yield optimization"),Object(a.b)("hr",null),Object(a.b)("h3",{id:"yieldoptimizationconfigprovider"},"YieldOptimizationConfigProvider"),Object(a.b)("p",null,"\u01ac ",Object(a.b)("strong",{parentName:"p"},"YieldOptimizationConfigProvider"),": ",Object(a.b)("em",{parentName:"p"},"none")," ","|"," ",Object(a.b)("em",{parentName:"p"},"static")," ","|"," ",Object(a.b)("em",{parentName:"p"},"dynamic")))}d.isMDXComponent=!0},327:function(e,i,t){"use strict";t.d(i,"a",(function(){return b})),t.d(i,"b",(function(){return s}));var n=t(0),o=t.n(n);function a(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function r(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?r(Object(t),!0).forEach((function(i){a(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}function c(e,i){if(null==e)return{};var t,n,o=function(e,i){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],i.indexOf(t)>=0||(o[t]=e[t]);return o}(e,i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],i.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=o.a.createContext({}),d=function(e){var i=o.a.useContext(p),t=i;return e&&(t="function"==typeof e?e(i):l(l({},i),e)),t},b=function(e){var i=d(e.components);return o.a.createElement(p.Provider,{value:i},e.children)},m={inlineCode:"code",wrapper:function(e){var i=e.children;return o.a.createElement(o.a.Fragment,{},i)}},u=o.a.forwardRef((function(e,i){var t=e.components,n=e.mdxType,a=e.originalType,r=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),b=d(t),u=n,s=b["".concat(r,".").concat(u)]||b[u]||m[u]||a;return t?o.a.createElement(s,l(l({ref:i},p),{},{components:t})):o.a.createElement(s,l({ref:i},p))}));function s(e,i){var t=arguments,n=i&&i.mdxType;if("string"==typeof e||n){var a=t.length,r=new Array(a);r[0]=u;var l={};for(var c in i)hasOwnProperty.call(i,c)&&(l[c]=i[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,r[1]=l;for(var p=2;p<a;p++)r[p]=t[p];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);