"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[7306],{3905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return N}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),o=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=o(e.components);return n.createElement(d.Provider,{value:t},e.children)},k={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),s=o(a),N=r,u=s["".concat(d,".").concat(N)]||s[N]||k[N]||i;return a?n.createElement(u,l(l({ref:t},m),{},{components:a})):n.createElement(u,l({ref:t},m))}));function N(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=s;var p={};for(var d in t)hasOwnProperty.call(t,d)&&(p[d]=t[d]);p.originalType=e,p.mdxType="string"==typeof e?e:r,l[1]=p;for(var o=2;o<i;o++)l[o]=a[o];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}s.displayName="MDXCreateElement"},4440:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return p},contentTitle:function(){return d},metadata:function(){return o},toc:function(){return m},default:function(){return s}});var n=a(7462),r=a(3366),i=(a(7294),a(3905)),l=["components"],p={id:"modules",title:"@highfivve/ad-tag",sidebar_label:"Exports",sidebar_position:.5,custom_edit_url:null},d=void 0,o={unversionedId:"api/modules",id:"api/modules",isDocsHomePage:!1,title:"@highfivve/ad-tag",description:"Namespaces",source:"@site/docs/api/modules.md",sourceDirName:"api",slug:"/api/modules",permalink:"/moli-ad-tag/docs/api/modules",editUrl:null,tags:[],version:"current",sidebarPosition:.5,frontMatter:{id:"modules",title:"@highfivve/ad-tag",sidebar_label:"Exports",sidebar_position:.5,custom_edit_url:null},sidebar:"API",previous:{title:"Readme",permalink:"/moli-ad-tag/docs/api/"},next:{title:"Moli",permalink:"/moli-ad-tag/docs/api/namespaces/Moli"}},m=[{value:"Namespaces",id:"namespaces",children:[]},{value:"Classes",id:"classes",children:[]},{value:"Interfaces",id:"interfaces",children:[]},{value:"Type aliases",id:"type-aliases",children:[{value:"AdPipelineContext",id:"adpipelinecontext",children:[]},{value:"AdUnitPathVariables",id:"adunitpathvariables",children:[]},{value:"ConfigureStep",id:"configurestep",children:[]}]},{value:"Configure Step",id:"configure-step",children:[{value:"DefineSlotsStep",id:"defineslotsstep",children:[]}]},{value:"Define Slots",id:"define-slots",children:[{value:"InitStep",id:"initstep",children:[]}]},{value:"Init Step",id:"init-step",children:[{value:"ModuleMeta",id:"modulemeta",children:[]},{value:"ModuleType",id:"moduletype",children:[]},{value:"OutStreamPlayerWindow",id:"outstreamplayerwindow",children:[]},{value:"PrebidOutstreamBid",id:"prebidoutstreambid",children:[]},{value:"PrebidOutstreamConfiguration",id:"prebidoutstreamconfiguration",children:[]},{value:"PrepareRequestAdsStep",id:"preparerequestadsstep",children:[]}]},{value:"Prepare RequestAds",id:"prepare-requestads",children:[{value:"RequestAdsStep",id:"requestadsstep",children:[]}]},{value:"RequestAds",id:"requestads",children:[{value:"RequestBidsStep",id:"requestbidsstep",children:[]}]},{value:"Request Bids",id:"request-bids",children:[]},{value:"Variables",id:"variables",children:[{value:"HIGH_PRIORITY",id:"high_priority",children:[]},{value:"LOW_PRIORITY",id:"low_priority",children:[]}]},{value:"Functions",id:"functions",children:[{value:"createMoliTag",id:"createmolitag",children:[]},{value:"extractAdTagVersion",id:"extractadtagversion",children:[]},{value:"flatten",id:"flatten",children:[]},{value:"getDefaultLogger",id:"getdefaultlogger",children:[]},{value:"getLogger",id:"getlogger",children:[]},{value:"initAdTag",id:"initadtag",children:[]},{value:"isNotNull",id:"isnotnull",children:[]},{value:"isPlainObject",id:"isplainobject",children:[]},{value:"mergeDeep",id:"mergedeep",children:[]},{value:"metaFromModule",id:"metafrommodule",children:[]},{value:"mkConfigureStep",id:"mkconfigurestep",children:[]},{value:"mkConfigureStepOnce",id:"mkconfiguresteponce",children:[]}]},{value:"Use cases",id:"use-cases",children:[{value:"mkConfigureStepOncePerRequestAdsCycle",id:"mkconfiguresteponceperrequestadscycle",children:[]}]},{value:"Use cases",id:"use-cases-1",children:[{value:"mkInitStep",id:"mkinitstep",children:[]},{value:"mkPrepareRequestAdsStep",id:"mkpreparerequestadsstep",children:[]},{value:"mkRequestBidsStep",id:"mkrequestbidsstep",children:[]},{value:"prebidOutstreamRenderer",id:"prebidoutstreamrenderer",children:[]},{value:"removeChildId",id:"removechildid",children:[]},{value:"renderPrebidOutstream",id:"renderprebidoutstream",children:[]},{value:"resolveAdUnitPath",id:"resolveadunitpath",children:[]},{value:"slotEventServiceConfigure",id:"sloteventserviceconfigure",children:[]},{value:"uniquePrimitiveFilter",id:"uniqueprimitivefilter",children:[]},{value:"withDepth",id:"withdepth",children:[]}]}],k={toc:m};function s(e){var t=e.components,a=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},k,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"namespaces"},"Namespaces"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"namespaces/Moli"},"Moli")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"namespaces/apstag"},"apstag")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"namespaces/googletag"},"googletag")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"namespaces/prebidjs"},"prebidjs")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"namespaces/tcfapi"},"tcfapi"))),(0,i.kt)("h2",{id:"classes"},"Classes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"classes/AdPipeline"},"AdPipeline"))),(0,i.kt)("h2",{id:"interfaces"},"Interfaces"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"interfaces/IAdPipelineConfiguration"},"IAdPipelineConfiguration")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"interfaces/IModule"},"IModule")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"interfaces/ISlotEventSource"},"ISlotEventSource"))),(0,i.kt)("h2",{id:"type-aliases"},"Type aliases"),(0,i.kt)("h3",{id:"adpipelinecontext"},"AdPipelineContext"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"AdPipelineContext"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Object")),(0,i.kt)("p",null,"Context passed to every pipeline step."),(0,i.kt)("p",null,"Used to inject general purpose external dependencies"),(0,i.kt)("h4",{id:"type-declaration"},"Type declaration"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"config")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.MoliConfig"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliConfig"))),(0,i.kt)("td",{parentName:"tr",align:"left"},"The config used for the ad configuration run")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"env")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"namespaces/Moli#environment"},(0,i.kt)("inlineCode",{parentName:"a"},"Environment"))),(0,i.kt)("td",{parentName:"tr",align:"left"},"Environment from the config with a default set to production")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"labelConfigService")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"LabelConfigService")),(0,i.kt)("td",{parentName:"tr",align:"left"},"required for filtering based on labels")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"logger")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.MoliLogger"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliLogger"))),(0,i.kt)("td",{parentName:"tr",align:"left"},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"reportingService")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"IReportingService")),(0,i.kt)("td",{parentName:"tr",align:"left"},"enables steps to access the reporting API")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"requestAdsCalls")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"number")),(0,i.kt)("td",{parentName:"tr",align:"left"},"A counter for requestAds() calls.  This is only useful for steps that should run only once in single page application mode. For server side rendered pages this is always 1.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"requestId")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"number")),(0,i.kt)("td",{parentName:"tr",align:"left"},"an incremented id that identifies a pipeline run.  Starts with 1 and increments by one for each pipeline run.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"slotEventService")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"SlotEventService")),(0,i.kt)("td",{parentName:"tr",align:"left"},"access to the slot event service API")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"tcData")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"namespaces/tcfapi.responses#tcdata"},(0,i.kt)("inlineCode",{parentName:"a"},"TCData"))),(0,i.kt)("td",{parentName:"tr",align:"left"},"consent data")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"window")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Window")," & ",(0,i.kt)("a",{parentName:"td",href:"namespaces/apstag#windowa9"},(0,i.kt)("inlineCode",{parentName:"a"},"WindowA9"))," & ",(0,i.kt)("a",{parentName:"td",href:"interfaces/googletag.IGoogleTagWindow"},(0,i.kt)("inlineCode",{parentName:"a"},"IGoogleTagWindow"))," & ",(0,i.kt)("a",{parentName:"td",href:"interfaces/prebidjs.IPrebidjsWindow"},(0,i.kt)("inlineCode",{parentName:"a"},"IPrebidjsWindow"))," & ",(0,i.kt)("a",{parentName:"td",href:"interfaces/tcfapi.TCFApiWindow"},(0,i.kt)("inlineCode",{parentName:"a"},"TCFApiWindow"))),(0,i.kt)("td",{parentName:"tr",align:"left"},"access to the global window. Never access the global window object")))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"adunitpathvariables"},"AdUnitPathVariables"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"AdUnitPathVariables"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Object")),(0,i.kt)("h4",{id:"index-signature"},"Index signature"),(0,i.kt)("p",null,"\u25aa ","[key: ",(0,i.kt)("inlineCode",{parentName:"p"},"string"),"]",": ",(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"configurestep"},"ConfigureStep"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"ConfigureStep"),": (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),": ",(0,i.kt)("a",{parentName:"p",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),": ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),"[]) => ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h4",{id:"type-declaration-1"},"Type declaration"),(0,i.kt)("p",null,"\u25b8 (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h2",{id:"configure-step"},"Configure Step"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"gpt configuration"),(0,i.kt)("li",{parentName:"ul"},"prebid configuration"),(0,i.kt)("li",{parentName:"ul"},"a9 configuration")),(0,i.kt)("h5",{id:"parameters"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"context")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"slots")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),"[]")))),(0,i.kt)("h5",{id:"returns"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"defineslotsstep"},"DefineSlotsStep"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"DefineSlotsStep"),": (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),": ",(0,i.kt)("a",{parentName:"p",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),": ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),"[]) => ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"[]",">"),(0,i.kt)("h4",{id:"type-declaration-2"},"Type declaration"),(0,i.kt)("p",null,"\u25b8 (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"[]",">"),(0,i.kt)("h2",{id:"define-slots"},"Define Slots"),(0,i.kt)("p",null,"Create slot definitions"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"define google ad slots"),(0,i.kt)("li",{parentName:"ul"},"filter sizes")),(0,i.kt)("h5",{id:"parameters-1"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"context")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"slots")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),"[]")))),(0,i.kt)("h5",{id:"returns-1"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"[]",">"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"initstep"},"InitStep"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"InitStep"),": (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),": ",(0,i.kt)("a",{parentName:"p",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),") => ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h4",{id:"type-declaration-3"},"Type declaration"),(0,i.kt)("p",null,"\u25b8 (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h2",{id:"init-step"},"Init Step"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"domReady"),(0,i.kt)("li",{parentName:"ul"},"gpt ready"),(0,i.kt)("li",{parentName:"ul"},"prebid ready"),(0,i.kt)("li",{parentName:"ul"},"a9 fetch js"),(0,i.kt)("li",{parentName:"ul"},"async fetching of external resources")),(0,i.kt)("h5",{id:"parameters-2"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"context")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")))))),(0,i.kt)("h5",{id:"returns-2"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"modulemeta"},"ModuleMeta"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"ModuleMeta"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Pick"),"<",(0,i.kt)("a",{parentName:"p",href:"interfaces/IModule"},(0,i.kt)("inlineCode",{parentName:"a"},"IModule")),", ",(0,i.kt)("inlineCode",{parentName:"p"},'"name"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"description"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"moduleType"'),">"," & { ",(0,i.kt)("inlineCode",{parentName:"p"},"config"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Object")," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),"  }"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"moduletype"},"ModuleType"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"ModuleType"),": ",(0,i.kt)("inlineCode",{parentName:"p"},'"cmp"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"reporting"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"ad-fraud"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"prebid"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"ad-reload"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"policy"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"identity"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"dmp"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"yield"')," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},'"creatives"')),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"outstreamplayerwindow"},"OutStreamPlayerWindow"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"OutStreamPlayerWindow"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Object")),(0,i.kt)("p",null,"These types are copied from prebid-outstream."),(0,i.kt)("h4",{id:"type-declaration-4"},"Type declaration"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"outstreamPlayer?")),(0,i.kt)("td",{parentName:"tr",align:"left"},"(",(0,i.kt)("inlineCode",{parentName:"td"},"bid"),": ",(0,i.kt)("inlineCode",{parentName:"td"},"Partial"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"Object"),">",", ",(0,i.kt)("inlineCode",{parentName:"td"},"elementId"),": ",(0,i.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"config"),": ",(0,i.kt)("inlineCode",{parentName:"td"},"Partial"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"Object"),">",") => ",(0,i.kt)("inlineCode",{parentName:"td"},"void"))))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"prebidoutstreambid"},"PrebidOutstreamBid"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"PrebidOutstreamBid"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Partial"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"Object"),">"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"prebidoutstreamconfiguration"},"PrebidOutstreamConfiguration"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"PrebidOutstreamConfiguration"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Partial"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"Object"),">"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"preparerequestadsstep"},"PrepareRequestAdsStep"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"PrepareRequestAdsStep"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Object")),(0,i.kt)("h4",{id:"call-signature"},"Call signature"),(0,i.kt)("p",null,"\u25b8 (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"unknown"),">"),(0,i.kt)("h2",{id:"prepare-requestads"},"Prepare RequestAds"),(0,i.kt)("p",null,"This phase configures external systems such as prebid and a9 or and prepares\nthe existing google ad slots for a request."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"add prebid ad units"),(0,i.kt)("li",{parentName:"ul"},"add a9 ad units"),(0,i.kt)("li",{parentName:"ul"},"yield optimization"),(0,i.kt)("li",{parentName:"ul"},"remove stale prebid / a9 key-values")),(0,i.kt)("h5",{id:"parameters-3"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"context")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"slots")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"<",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),">","[]")))),(0,i.kt)("h5",{id:"returns-3"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"unknown"),">"),(0,i.kt)("h4",{id:"type-declaration-5"},"Type declaration"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"priority")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"number")),(0,i.kt)("td",{parentName:"tr",align:"left"},"higher number means higher priority means runs before lower priorties")))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"requestadsstep"},"RequestAdsStep"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"RequestAdsStep"),": (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),": ",(0,i.kt)("a",{parentName:"p",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),": ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"[]) => ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h4",{id:"type-declaration-6"},"Type declaration"),(0,i.kt)("p",null,"\u25b8 (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h2",{id:"requestads"},"RequestAds"),(0,i.kt)("p",null,"Fire googletag ad request."),(0,i.kt)("h5",{id:"parameters-4"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"context")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"slots")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"[]")))),(0,i.kt)("h5",{id:"returns-4"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"requestbidsstep"},"RequestBidsStep"),(0,i.kt)("p",null,"\u01ac ",(0,i.kt)("strong",{parentName:"p"},"RequestBidsStep"),": (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),": ",(0,i.kt)("a",{parentName:"p",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),": ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"[]) => ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h4",{id:"type-declaration-7"},"Type declaration"),(0,i.kt)("p",null,"\u25b8 (",(0,i.kt)("inlineCode",{parentName:"p"},"context"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h2",{id:"request-bids"},"Request Bids"),(0,i.kt)("p",null,"Make calls to 3rd party systems to fetch bids."),(0,i.kt)("p",null,"This is the last step where we can perform actions on slot definitions before we hit google ad manager."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"prebid requestBids / setGptTargeting"),(0,i.kt)("li",{parentName:"ul"},"a9 fetchBids")),(0,i.kt)("h5",{id:"parameters-5"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"context")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"slots")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"[]")))),(0,i.kt)("h5",{id:"returns-5"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,i.kt)("h2",{id:"variables"},"Variables"),(0,i.kt)("h3",{id:"high_priority"},"HIGH","_","PRIORITY"),(0,i.kt)("p",null,"\u2022 ",(0,i.kt)("strong",{parentName:"p"},"HIGH","_","PRIORITY"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"100")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"low_priority"},"LOW","_","PRIORITY"),(0,i.kt)("p",null,"\u2022 ",(0,i.kt)("strong",{parentName:"p"},"LOW","_","PRIORITY"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"10")),(0,i.kt)("h2",{id:"functions"},"Functions"),(0,i.kt)("h3",{id:"createmolitag"},"createMoliTag"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"createMoliTag"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"window"),"): ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliTag"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliTag"))),(0,i.kt)("h4",{id:"parameters-6"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"window")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Window"))))),(0,i.kt)("h4",{id:"returns-6"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliTag"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliTag"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"extractadtagversion"},"extractAdTagVersion"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"extractAdTagVersion"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"__namedParameters"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"undefined")," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"Helper function to extract the currentVersion property from moli's releases.json file format."),(0,i.kt)("h4",{id:"parameters-7"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"__namedParameters")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Object"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"__namedParameters.currentVersion?")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"unknown"))))),(0,i.kt)("h4",{id:"returns-7"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"undefined")," ","|"," ",(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"string|undefined version number, if parseable"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"flatten"},"flatten"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"flatten"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,i.kt)("inlineCode",{parentName:"p"},"arr"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"T"),"[]"),(0,i.kt)("p",null,"Until ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat"},"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat")," has landed"),(0,i.kt)("h4",{id:"type-parameters"},"Type parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"T"))))),(0,i.kt)("h4",{id:"parameters-8"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"arr")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"T"),"[][]"),(0,i.kt)("td",{parentName:"tr",align:"left"},"the 2-dimensional array to flatten")))),(0,i.kt)("h4",{id:"returns-8"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"T"),"[]"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"getdefaultlogger"},"getDefaultLogger"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"getDefaultLogger"),"(): ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliLogger"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliLogger"))),(0,i.kt)("p",null,"The default logger that writes everything to the console with labels."),(0,i.kt)("h4",{id:"returns-9"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliLogger"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliLogger"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"getlogger"},"getLogger"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"getLogger"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"config"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"window"),"): ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliLogger"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliLogger"))),(0,i.kt)("p",null," Logging:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"log to console if the ",(0,i.kt)("inlineCode",{parentName:"li"},"moliDebug")," parameter is set"),(0,i.kt)("li",{parentName:"ul"},"log to custom logger if logger is set by publisher"),(0,i.kt)("li",{parentName:"ul"},"log errors to console if no logger is configured")),(0,i.kt)("h4",{id:"parameters-9"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"config")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"null")," ","|"," ",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.MoliConfig"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliConfig"))),(0,i.kt)("td",{parentName:"tr",align:"left"})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"window")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Window")),(0,i.kt)("td",{parentName:"tr",align:"left"},"the global window object")))),(0,i.kt)("h4",{id:"returns-10"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliLogger"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliLogger"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"initadtag"},"initAdTag"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"initAdTag"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"window"),"): ",(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliTag"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliTag"))),(0,i.kt)("p",null,"Initialize the ad tag, the global variable and process any elements in the command que."),(0,i.kt)("p",null,"Only export the public API and hide properties and methods in the DFP Service"),(0,i.kt)("h4",{id:"parameters-10"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"window")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Window")),(0,i.kt)("td",{parentName:"tr",align:"left"},"object")))),(0,i.kt)("h4",{id:"returns-11"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"interfaces/Moli.MoliTag"},(0,i.kt)("inlineCode",{parentName:"a"},"MoliTag"))),(0,i.kt)("p",null,"moli ad tag"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"isnotnull"},"isNotNull"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"isNotNull"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,i.kt)("inlineCode",{parentName:"p"},"elem"),"): elem is T"),(0,i.kt)("p",null,"filter out all elements that are null or undefined in an array"),(0,i.kt)("h4",{id:"type-parameters-1"},"Type parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"T"))))),(0,i.kt)("h4",{id:"parameters-11"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"elem")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"undefined")," ","|"," ",(0,i.kt)("inlineCode",{parentName:"td"},"null")," ","|"," ",(0,i.kt)("inlineCode",{parentName:"td"},"T"))))),(0,i.kt)("h4",{id:"returns-12"},"Returns"),(0,i.kt)("p",null,"elem is T"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"isplainobject"},"isPlainObject"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"isPlainObject"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"object"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"boolean")),(0,i.kt)("h4",{id:"parameters-12"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"object")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"any"))))),(0,i.kt)("h4",{id:"returns-13"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"boolean")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"mergedeep"},"mergeDeep"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"mergeDeep"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"target"),", ...",(0,i.kt)("inlineCode",{parentName:"p"},"sources"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"any")),(0,i.kt)("p",null,"Merges objects and arrays."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"see"))," ",(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge"},"https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"see"))," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/prebid/Prebid.js/blob/41be379034ea952a28a257784c7eb53fa5c15d95/src/utils.js#L1234-L1253"},"https://github.com/prebid/Prebid.js/blob/41be379034ea952a28a257784c7eb53fa5c15d95/src/utils.js#L1234-L1253")),(0,i.kt)("h4",{id:"parameters-13"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"target")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"object")),(0,i.kt)("td",{parentName:"tr",align:"left"},"the target object in which things will be merged")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"...sources")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"any"),"[]"),(0,i.kt)("td",{parentName:"tr",align:"left"},"objects being merged into the target")))),(0,i.kt)("h4",{id:"returns-14"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"any")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"metafrommodule"},"metaFromModule"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"metaFromModule"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"module"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#modulemeta"},(0,i.kt)("inlineCode",{parentName:"a"},"ModuleMeta"))),(0,i.kt)("h4",{id:"parameters-14"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"module")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"interfaces/IModule"},(0,i.kt)("inlineCode",{parentName:"a"},"IModule")))))),(0,i.kt)("h4",{id:"returns-15"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#modulemeta"},(0,i.kt)("inlineCode",{parentName:"a"},"ModuleMeta"))),(0,i.kt)("p",null,"a copy of the module, containing meta data like module name, type, description, and config, without access\nto its methods."),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"mkconfigurestep"},"mkConfigureStep"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"mkConfigureStep"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"fn"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("h4",{id:"parameters-15"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"fn")),(0,i.kt)("td",{parentName:"tr",align:"left"},"(",(0,i.kt)("inlineCode",{parentName:"td"},"context"),": ",(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"td"},"slots"),": ",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),"[]) => ",(0,i.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"void"),">")))),(0,i.kt)("h4",{id:"returns-16"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"mkconfiguresteponce"},"mkConfigureStepOnce"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"mkConfigureStepOnce"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"fn"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("p",null,"Construct configure steps that only run once.\nThis is only useful for single page application."),(0,i.kt)("h2",{id:"use-cases"},"Use cases"),(0,i.kt)("p",null,'Something that should only be configured once, but requires something\nfrom the init step, e.g. "identity providers" but the command que must\nbe present.'),(0,i.kt)("h4",{id:"parameters-16"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"fn")),(0,i.kt)("td",{parentName:"tr",align:"left"},"(",(0,i.kt)("inlineCode",{parentName:"td"},"context"),": ",(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"td"},"slots"),": ",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),"[]) => ",(0,i.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"void"),">")))),(0,i.kt)("h4",{id:"returns-17"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"mkconfiguresteponceperrequestadscycle"},"mkConfigureStepOncePerRequestAdsCycle"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"mkConfigureStepOncePerRequestAdsCycle"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"fn"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("p",null,"Construct configure steps that only run once per requestAds call.\nThis is only useful for single page application"),(0,i.kt)("h2",{id:"use-cases-1"},"Use cases"),(0,i.kt)("p",null,"Cleanup on new page, e.g. remove previous ad slots or targeting."),(0,i.kt)("h4",{id:"parameters-17"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"fn")),(0,i.kt)("td",{parentName:"tr",align:"left"},"(",(0,i.kt)("inlineCode",{parentName:"td"},"context"),": ",(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"td"},"slots"),": ",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),"[]) => ",(0,i.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"void"),">")))),(0,i.kt)("h4",{id:"returns-18"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"mkinitstep"},"mkInitStep"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"mkInitStep"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"fn"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#initstep"},(0,i.kt)("inlineCode",{parentName:"a"},"InitStep"))),(0,i.kt)("h4",{id:"parameters-18"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"fn")),(0,i.kt)("td",{parentName:"tr",align:"left"},"(",(0,i.kt)("inlineCode",{parentName:"td"},"context"),": ",(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),") => ",(0,i.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"void"),">")))),(0,i.kt)("h4",{id:"returns-19"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#initstep"},(0,i.kt)("inlineCode",{parentName:"a"},"InitStep"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"mkpreparerequestadsstep"},"mkPrepareRequestAdsStep"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"mkPrepareRequestAdsStep"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"priority"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"fn"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#preparerequestadsstep"},(0,i.kt)("inlineCode",{parentName:"a"},"PrepareRequestAdsStep"))),(0,i.kt)("h4",{id:"parameters-19"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"priority")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"number"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"fn")),(0,i.kt)("td",{parentName:"tr",align:"left"},"(",(0,i.kt)("inlineCode",{parentName:"td"},"context"),": ",(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"td"},"slots"),": ",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"<",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),">","[]) => ",(0,i.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"void"),">")))),(0,i.kt)("h4",{id:"returns-20"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#preparerequestadsstep"},(0,i.kt)("inlineCode",{parentName:"a"},"PrepareRequestAdsStep"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"mkrequestbidsstep"},"mkRequestBidsStep"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"mkRequestBidsStep"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"fn"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#requestbidsstep"},(0,i.kt)("inlineCode",{parentName:"a"},"RequestBidsStep"))),(0,i.kt)("h4",{id:"parameters-20"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"fn")),(0,i.kt)("td",{parentName:"tr",align:"left"},"(",(0,i.kt)("inlineCode",{parentName:"td"},"context"),": ",(0,i.kt)("a",{parentName:"td",href:"modules#adpipelinecontext"},(0,i.kt)("inlineCode",{parentName:"a"},"AdPipelineContext")),", ",(0,i.kt)("inlineCode",{parentName:"td"},"slots"),": ",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.SlotDefinition"},(0,i.kt)("inlineCode",{parentName:"a"},"SlotDefinition")),"<",(0,i.kt)("a",{parentName:"td",href:"interfaces/Moli.AdSlot"},(0,i.kt)("inlineCode",{parentName:"a"},"AdSlot")),">","[]) => ",(0,i.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"void"),">")))),(0,i.kt)("h4",{id:"returns-21"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#requestbidsstep"},(0,i.kt)("inlineCode",{parentName:"a"},"RequestBidsStep"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"prebidoutstreamrenderer"},"prebidOutstreamRenderer"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"prebidOutstreamRenderer"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"domId"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"config?"),"): ",(0,i.kt)("a",{parentName:"p",href:"interfaces/prebidjs.IRenderer"},(0,i.kt)("inlineCode",{parentName:"a"},"IRenderer"))),(0,i.kt)("p",null,"Renderer for Moli's built in outstream player."),(0,i.kt)("p",null,"Usage is like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"adUnit: {\n  mediaTypes: {\n    video: {\n      renderer: prebidOutstreamRenderer('prebid-adslot')\n    }\n  }\n}\n")),(0,i.kt)("p",null,"If needed, values can be overriden like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"renderer: { ...prebidOutstreamRenderer('prebid-adslot'), url: 'another-url.net' }\n")),(0,i.kt)("h4",{id:"parameters-21"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"domId")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:"left"},"Must match the domId of the respective ad slot.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"config")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Partial"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"Object"),">"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Configuration for the outstream player.")))),(0,i.kt)("h4",{id:"returns-22"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"interfaces/prebidjs.IRenderer"},(0,i.kt)("inlineCode",{parentName:"a"},"IRenderer"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"removechildid"},"removeChildId"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"removeChildId"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"adUnitPath"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"The new MCM that allows managing child publishers, the ad unit path must\ncontain the parent networkId as well as the child networkId separated by a\ncomma."),(0,i.kt)("p",null,"E.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"/1234567,1234/Travel")),(0,i.kt)("p",null,"This method removes the child id in order to keep down stream systems that\nuse the ",(0,i.kt)("inlineCode",{parentName:"p"},"adUnitPath")," as an identifier unchanged. This includes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Amazon TAM bidder mappings"),(0,i.kt)("li",{parentName:"ul"},"Ad Reloads"),(0,i.kt)("li",{parentName:"ul"},"Yield Optimization")),(0,i.kt)("p",null,"From the google documentation the ",(0,i.kt)("inlineCode",{parentName:"p"},"code")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"ad unit path")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"is a string of characters that is used in ad tags for an ad unit.\nCodes can be up to 100 characters and are not case-sensitive.\nOnly letters, numbers, underscores, hyphens, periods, asterisks,\nexclamations, left angle brackets, colons, forward slashes and parentheses\nare allowed.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"see"))," ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/admanager/answer/10477476?hl=en&ref_topic=10478086"},"https://support.google.com/admanager/answer/10477476?hl=en&ref_topic=10478086")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"see"))," ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/admanager/answer/9611105?hl=en"},"https://support.google.com/admanager/answer/9611105?hl=en")),(0,i.kt)("h4",{id:"parameters-22"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"adUnitPath")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))))),(0,i.kt)("h4",{id:"returns-23"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"renderprebidoutstream"},"renderPrebidOutstream"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"renderPrebidOutstream"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"bid"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"domId"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"config?"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"void")),(0,i.kt)("p",null,"Renders the prebid outstream player directly, using the specified parameters."),(0,i.kt)("h4",{id:"parameters-23"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"bid")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Partial"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"Object"),">")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"domId")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"config")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Partial"),"<",(0,i.kt)("inlineCode",{parentName:"td"},"Object"),">")))),(0,i.kt)("h4",{id:"returns-24"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"void")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"resolveadunitpath"},"resolveAdUnitPath"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"resolveAdUnitPath"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"adUnitPath"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"adUnitPathVariables?"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"This method finds the params in the adUnitPath and replace them with the corresponding values in the adUnitPathVariables object\nfor example: /1234567/Travel/{device}/{channel} ==> /1234567/Travel/mobile/finance\nIt also detects all the special characters except the underscore."),(0,i.kt)("h4",{id:"parameters-24"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"adUnitPath")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:"left"},"the path to resolved")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"adUnitPathVariables?")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"modules#adunitpathvariables"},(0,i.kt)("inlineCode",{parentName:"a"},"AdUnitPathVariables"))),(0,i.kt)("td",{parentName:"tr",align:"left"},"key/value pairs to replace the adUnitPath keys with")))),(0,i.kt)("h4",{id:"returns-25"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"resolved path"),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"sloteventserviceconfigure"},"slotEventServiceConfigure"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"slotEventServiceConfigure"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"slotService"),"): ",(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("h4",{id:"parameters-25"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"slotService")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"SlotEventService"))))),(0,i.kt)("h4",{id:"returns-26"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"modules#configurestep"},(0,i.kt)("inlineCode",{parentName:"a"},"ConfigureStep"))),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"uniqueprimitivefilter"},"uniquePrimitiveFilter"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"uniquePrimitiveFilter"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,i.kt)("inlineCode",{parentName:"p"},"elm"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"position"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"arr"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"boolean")),(0,i.kt)("h4",{id:"type-parameters-2"},"Type parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"T"))))),(0,i.kt)("h4",{id:"parameters-26"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"elm")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"T"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"position")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"number"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"arr")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"T"),"[]")))),(0,i.kt)("h4",{id:"returns-27"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"boolean")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"withdepth"},"withDepth"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("inlineCode",{parentName:"p"},"Const")," ",(0,i.kt)("strong",{parentName:"p"},"withDepth"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"adUnitPath"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"depth"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"We don't want to be the adUnitPath's in a9 as granular as they're in the google adManager.\nFor this reason, we reduce the depth of the adUnitPath in this method."),(0,i.kt)("p",null,"E.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"shortenWithDepth('/1234567/Travel/Germany/Berlin', 3) will result in '/1234567/Travel/Germany'")),(0,i.kt)("h4",{id:"parameters-27"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"adUnitPath")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:"left"},"The adUnitPath that should be shortened.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"depth")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"number")),(0,i.kt)("td",{parentName:"tr",align:"left"},"The maximum depth of the adUnitPath.")))),(0,i.kt)("h4",{id:"returns-28"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"string")))}s.isMDXComponent=!0}}]);