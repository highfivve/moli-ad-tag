"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[93594],{28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>t});var i=s(96540);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}},54679:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliTag","title":"Interface: MoliTag","description":"This defines the publisher facing API. When the ad tag is configured in publisher mode, which means it doesn\'t fire","source":"@site/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliTag.md","sourceDirName":"api/types/moliRuntime/namespaces/MoliRuntime/interfaces","slug":"/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliTag","permalink":"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliTag","draft":false,"unlisted":false,"editUrl":"https://github.com/highfivve/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliTag.md","tags":[],"version":"current","frontMatter":{},"sidebar":"API","previous":{"title":"Interface: MoliRuntimeConfig","permalink":"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliRuntimeConfig"},"next":{"title":"Interface: RefreshAdSlotsOptions","permalink":"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/RefreshAdSlotsOptions"}}');var r=s(74848),l=s(28453);const d={},t="Interface: MoliTag",a={},o=[{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2},{value:"See",id:"see",level:2},{value:"Properties",id:"properties",level:2},{value:"addEventListener()",id:"addeventlistener",level:3},{value:"Type Parameters",id:"type-parameters",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"configLabel?",id:"configlabel",level:3},{value:"que",id:"que",level:3},{value:"push()",id:"push",level:4},{value:"Parameters",id:"parameters-1",level:5},{value:"Returns",id:"returns-1",level:5},{value:"removeEventListener()",id:"removeeventlistener",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"version",id:"version",level:3},{value:"Methods",id:"methods",level:2},{value:"addLabel()",id:"addlabel",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"afterRequestAds()",id:"afterrequestads",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-4",level:4},{value:"beforeRequestAds()",id:"beforerequestads",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-5",level:4},{value:"configure()",id:"configure",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-6",level:4},{value:"getConfig()",id:"getconfig",level:3},{value:"Returns",id:"returns-7",level:4},{value:"See",id:"see-1",level:4},{value:"getPageTargeting()",id:"getpagetargeting",level:3},{value:"Returns",id:"returns-8",level:4},{value:"getRuntimeConfig()",id:"getruntimeconfig",level:3},{value:"Returns",id:"returns-9",level:4},{value:"getState()",id:"getstate",level:3},{value:"Returns",id:"returns-10",level:4},{value:"openConsole()",id:"openconsole",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-11",level:4},{value:"refreshAdSlot()",id:"refreshadslot",level:3},{value:"Backfill setups",id:"backfill-setups",level:2},{value:"Refresh an eagerly loaded slot",id:"refresh-an-eagerly-loaded-slot",level:2},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-12",level:4},{value:"refreshBucket()",id:"refreshbucket",level:3},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-13",level:4},{value:"refreshInfiniteAdSlot()",id:"refreshinfiniteadslot",level:3},{value:"Parameters",id:"parameters-10",level:4},{value:"Returns",id:"returns-14",level:4},{value:"registerModule()",id:"registermodule",level:3},{value:"Parameters",id:"parameters-11",level:4},{value:"Returns",id:"returns-15",level:4},{value:"requestAds()",id:"requestads",level:3},{value:"Returns",id:"returns-16",level:4},{value:"resolveAdUnitPath()",id:"resolveadunitpath",level:3},{value:"Parameters",id:"parameters-12",level:4},{value:"Returns",id:"returns-17",level:4},{value:"setAdUnitPathVariables()",id:"setadunitpathvariables",level:3},{value:"Parameters",id:"parameters-13",level:4},{value:"Returns",id:"returns-18",level:4},{value:"setAudience()",id:"setaudience",level:3},{value:"Parameters",id:"parameters-14",level:4},{value:"Returns",id:"returns-19",level:4},{value:"setLogger()",id:"setlogger",level:3},{value:"Parameters",id:"parameters-15",level:4},{value:"Returns",id:"returns-20",level:4},{value:"See",id:"see-2",level:4},{value:"setTargeting()",id:"settargeting",level:3},{value:"Parameters",id:"parameters-16",level:4},{value:"Returns",id:"returns-21",level:4},{value:"triggerDelay()",id:"triggerdelay",level:3},{value:"Use cases",id:"use-cases",level:2},{value:"Note",id:"note",level:2},{value:"Event",id:"event",level:3},{value:"Returns",id:"returns-22",level:4}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"interface-molitag",children:"Interface: MoliTag"})}),"\n",(0,r.jsx)(n.h1,{id:"moli-ad-tag",children:"Moli Ad Tag"}),"\n",(0,r.jsxs)(n.p,{children:["This defines the publisher facing API. When the ad tag is configured in ",(0,r.jsx)(n.em,{children:"publisher mode"}),", which means it doesn't fire\n",(0,r.jsx)(n.code,{children:"requestAds()"})," immediately after being loaded, publishers can customize the integration."]}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsxs)(n.p,{children:["The general usage pattern is like ",(0,r.jsx)(n.code,{children:"gpt"})," or ",(0,r.jsx)(n.code,{children:"prebid"}),". If the ad tag is not yet available, commands can be pushed to\na que that will eventually be processed."]}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"window.moli = window.moli || { que: [] };\nwindow.moli.que.push(function(moliAdTag) {\n  moliAdTag.requestAds()\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"see",children:"See"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"[[state]] module for more information on how molis internal flow works"}),"\n",(0,r.jsx)(n.li,{children:"[[behaviour]] module for more information on slot loading behaviour"}),"\n",(0,r.jsx)(n.li,{children:"[[consent]] module for more information on GDPR / DSVGO configuration options"}),"\n",(0,r.jsx)(n.li,{children:"[[reporting]] module for more information on how access metrics provided by moli"}),"\n",(0,r.jsx)(n.li,{children:"[[MoliLogger]] on how to configure your own logging with moli"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(n.h3,{id:"addeventlistener",children:"addEventListener()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"addEventListener"}),": <",(0,r.jsx)(n.code,{children:"T"}),">(",(0,r.jsx)(n.code,{children:"event"}),", ",(0,r.jsx)(n.code,{children:"listener"}),", ",(0,r.jsx)(n.code,{children:"options"}),"?) => ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Add an event listener for ad request events."}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"T"})," ",(0,r.jsx)(n.em,{children:"extends"})," keyof ",(0,r.jsx)(n.code,{children:"EventMap"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"event"}),": ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.p,{children:"The event type"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"listener"}),": ",(0,r.jsx)(n.code,{children:"EventListener"}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.p,{children:"The callback function to be executed with event-specific data"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"options?"}),": ",(0,r.jsx)(n.code,{children:"EventListenerOptions"})]}),"\n",(0,r.jsx)(n.p,{children:"Optional configuration for the listener"}),"\n",(0,r.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"configlabel",children:"configLabel?"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"optional"})," ",(0,r.jsx)(n.strong,{children:"configLabel"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The label that is used to identify the configuration in the ad tag."}),"\n",(0,r.jsxs)(n.p,{children:["This value is set by the ",(0,r.jsx)(n.code,{children:"configureFromEndpoint"})," bundle that reads the script tag information.\nIt may be undefined if the ad tag is configured manually or the ",(0,r.jsx)(n.code,{children:"configureFromEndpoint"})," bundle failed."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"que",children:"que"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"que"}),": ",(0,r.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Queue for async loading and processing"}),"\n",(0,r.jsx)(n.h4,{id:"push",children:"push()"}),"\n",(0,r.jsx)(n.p,{children:"Push a single command into the queue."}),"\n",(0,r.jsx)(n.h5,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"cmd"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/type-aliases/MoliCommand",children:(0,r.jsx)(n.code,{children:"MoliCommand"})})]}),"\n",(0,r.jsx)(n.h5,{id:"returns-1",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"removeeventlistener",children:"removeEventListener()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"removeEventListener"}),": <",(0,r.jsx)(n.code,{children:"T"}),">(",(0,r.jsx)(n.code,{children:"event"}),", ",(0,r.jsx)(n.code,{children:"listener"}),") => ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Remove an event listener for ad request events."}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"T"})," ",(0,r.jsx)(n.em,{children:"extends"})," keyof ",(0,r.jsx)(n.code,{children:"EventMap"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"event"}),": ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.p,{children:"The event type"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"listener"}),": ",(0,r.jsx)(n.code,{children:"EventListener"}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.p,{children:"The callback function to remove"}),"\n",(0,r.jsx)(n.h4,{id:"returns-2",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"version",children:"version"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"version"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"the moli ad tag library version"}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h3,{id:"addlabel",children:"addLabel()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"addLabel"}),"(",(0,r.jsx)(n.code,{children:"label"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Adds a label to the static label list."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"label"}),": ",(0,r.jsx)(n.code,{children:"String"})]}),"\n",(0,r.jsx)(n.p,{children:"to be added"}),"\n",(0,r.jsx)(n.h4,{id:"returns-3",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"afterrequestads",children:"afterRequestAds()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"afterRequestAds"}),"(",(0,r.jsx)(n.code,{children:"callback"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Set the afterRequestAds hook, which is triggered after the ads have been requested.\nThe callback will receive the name of the new state the ad tag has."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"callback"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-4",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"beforerequestads",children:"beforeRequestAds()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"beforeRequestAds"}),"(",(0,r.jsx)(n.code,{children:"callback"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Set the beforeRequestAds hook, which is triggered before the ads are being requested\nwith the final [[Moli.MoliConfig]]."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-5",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"callback"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-5",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"configure",children:"configure()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"configure"}),"(",(0,r.jsx)(n.code,{children:"config"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"null"})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/type-aliases/IStateMachine",children:(0,r.jsx)(n.code,{children:"IStateMachine"})}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"WARNING"}),"\nThis method is called by the ad tag and can only be called once. If the publisher calls\n",(0,r.jsx)(n.code,{children:"configure"})," then the ad configuration provided by the ad tag may not be used."]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-6",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"config"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/interfaces/MoliConfig",children:(0,r.jsx)(n.code,{children:"MoliConfig"})})]}),"\n",(0,r.jsx)(n.p,{children:"the ad configuration"}),"\n",(0,r.jsx)(n.h4,{id:"returns-6",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"null"})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/type-aliases/IStateMachine",children:(0,r.jsx)(n.code,{children:"IStateMachine"})}),">"]}),"\n",(0,r.jsx)(n.p,{children:"a promise which resolves when the content of all eagerly initialized slots are loaded"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"getconfig",children:"getConfig()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"getConfig"}),"(): ",(0,r.jsx)(n.code,{children:"null"})," | ",(0,r.jsx)(n.code,{children:"Readonly"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/interfaces/MoliConfig",children:(0,r.jsx)(n.code,{children:"MoliConfig"})}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Returns the  current state of the configuration. This configuration may not be final!\nIf you need to access the final configuration use the ",(0,r.jsx)(n.code,{children:"beforeRequestAds"})," method to configure\na callback."]}),"\n",(0,r.jsx)(n.h4,{id:"returns-7",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"null"})," | ",(0,r.jsx)(n.code,{children:"Readonly"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/interfaces/MoliConfig",children:(0,r.jsx)(n.code,{children:"MoliConfig"})}),">"]}),"\n",(0,r.jsx)(n.p,{children:"the configuration used to initialize the ads. If not yet initialized, null."}),"\n",(0,r.jsx)(n.h4,{id:"see-1",children:"See"}),"\n",(0,r.jsx)(n.p,{children:"[[beforeRequestAds]]"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"getpagetargeting",children:"getPageTargeting()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"getPageTargeting"}),"(): ",(0,r.jsx)(n.code,{children:"Readonly"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/googleAdManager/interfaces/Targeting",children:(0,r.jsx)(n.code,{children:"Targeting"})}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Returns the current page targeting. It's a snapshot of the current targeting values set by the server side\n",(0,r.jsx)(n.code,{children:"targeting"})," property and the client side ",(0,r.jsx)(n.code,{children:"setTargeting"})," and ",(0,r.jsx)(n.code,{children:"addLabel"})," method invocations that are stored in the\n",(0,r.jsx)(n.code,{children:"MoliRuntimeConfig"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Runtime configuration takes precedence over the static configuration."}),"\n",(0,r.jsx)(n.h4,{id:"returns-8",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Readonly"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/googleAdManager/interfaces/Targeting",children:(0,r.jsx)(n.code,{children:"Targeting"})}),">"]}),"\n",(0,r.jsx)(n.p,{children:"the current page targeting"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"getruntimeconfig",children:"getRuntimeConfig()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"getRuntimeConfig"}),"(): ",(0,r.jsx)(n.code,{children:"Readonly"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliRuntimeConfig",children:(0,r.jsx)(n.code,{children:"MoliRuntimeConfig"})}),">"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Returns the current runtime configuration. This configuration may not be final!"}),"\n",(0,r.jsx)(n.p,{children:"Note, that even if the type declares it as readonly, the configuration is mutable. Don't make use of this!\nAlways use moli APIs to change the configuration."}),"\n",(0,r.jsx)(n.h4,{id:"returns-9",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Readonly"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliRuntimeConfig",children:(0,r.jsx)(n.code,{children:"MoliRuntimeConfig"})}),">"]}),"\n",(0,r.jsx)(n.p,{children:"the current state of the runtime config."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"getstate",children:"getState()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"getState"}),"(): ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/type-aliases/States",children:(0,r.jsx)(n.code,{children:"States"})})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"returns-10",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/type-aliases/States",children:(0,r.jsx)(n.code,{children:"States"})})}),"\n",(0,r.jsx)(n.p,{children:"the current state name"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"openconsole",children:"openConsole()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"openConsole"}),"(",(0,r.jsx)(n.code,{children:"path"}),"?): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Open the moli debug console."}),"\n",(0,r.jsx)(n.p,{children:"Request the debug bundle and start the debug mode."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-7",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"path?"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"[optional] full path to the moli debug script."}),"\n",(0,r.jsx)(n.h4,{id:"returns-11",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"refreshadslot",children:"refreshAdSlot()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"refreshAdSlot"}),"(",(0,r.jsx)(n.code,{children:"domId"}),", ",(0,r.jsx)(n.code,{children:"options"}),"?): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:'"queued"'})," | ",(0,r.jsx)(n.code,{children:'"refreshed"'}),">"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Refresh the given ad slot as soon as possible."}),"\n",(0,r.jsxs)(n.p,{children:["This is only possible for ad slots with a ",(0,r.jsx)(n.code,{children:"manual"})," loading behaviour."]}),"\n",(0,r.jsxs)(n.p,{children:["Ad slots are batched until requestAds() is being called. This reduces the amount of requests made to the\nad server if the ",(0,r.jsx)(n.code,{children:"refreshAdSlot"})," calls are before the ad tag is loaded."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage"})}),"\n",(0,r.jsxs)(n.p,{children:["Refreshing a single ad slot that has loading behaviour ",(0,r.jsx)(n.code,{children:"manual"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"moli.refreshAdSlots(['content_1']);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Refreshing multiple ad slots that have loading behaviour ",(0,r.jsx)(n.code,{children:"manual"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"moli.refreshAdSlots(['content_1', 'content_2']);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"backfill-setups",children:"Backfill setups"}),"\n",(0,r.jsxs)(n.p,{children:["Refreshing a single ad slot that has loading behaviour ",(0,r.jsx)(n.code,{children:"backfill"})," with custom options."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"moli.refreshAdSlots(['content_1'], { loaded: 'backfill' });\n"})}),"\n",(0,r.jsx)(n.h2,{id:"refresh-an-eagerly-loaded-slot",children:"Refresh an eagerly loaded slot"}),"\n",(0,r.jsx)(n.p,{children:"This is useful if you have a fully rendered page on the server and the ad slot can be eagerly\nrequested, but the user can alter the page afterwards, e.g. filtering the content or changing the layout and\nthe slot should be refreshed."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"moli.refreshAdSlots(['content_1'], { loaded: 'eager' });\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters-8",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"domId"}),": ",(0,r.jsx)(n.code,{children:"string"})," | ",(0,r.jsx)(n.code,{children:"string"}),"[]"]}),"\n",(0,r.jsx)(n.p,{children:"identifies the ad slot or ad slots"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"options?"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/RefreshAdSlotsOptions",children:(0,r.jsx)(n.code,{children:"RefreshAdSlotsOptions"})})]}),"\n",(0,r.jsx)(n.p,{children:"optional options to override the default refreshing behaviour"}),"\n",(0,r.jsx)(n.h4,{id:"returns-12",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:'"queued"'})," | ",(0,r.jsx)(n.code,{children:'"refreshed"'}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"refreshbucket",children:"refreshBucket()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"refreshBucket"}),"(",(0,r.jsx)(n.code,{children:"bucket"}),", ",(0,r.jsx)(n.code,{children:"options"}),"?): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:'"queued"'})," | ",(0,r.jsx)(n.code,{children:'"refreshed"'}),">"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Refresh the given bucket as soon as possible."}),"\n",(0,r.jsxs)(n.p,{children:["By default, this is only possible for ad slots with a ",(0,r.jsx)(n.code,{children:"manual"})," loading behaviour and bucket is enabled.\nYou need to manually override this through the ",(0,r.jsx)(n.code,{children:"options"})," parameter."]}),"\n",(0,r.jsxs)(n.p,{children:["Ad slots in buckets are batched until requestAds() is being called. This reduces the amount of requests made to the\nad server if the ",(0,r.jsx)(n.code,{children:"refreshAdSlot"})," calls are before the ad tag is loaded."]}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.code,{children:"refreshAdSlot"})," method for more information on how to refresh ad slots."]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-9",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"bucket"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"identifies the bucket"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"options?"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/RefreshAdSlotsOptions",children:(0,r.jsx)(n.code,{children:"RefreshAdSlotsOptions"})})]}),"\n",(0,r.jsx)(n.p,{children:"optional options to override the default refreshing behaviour"}),"\n",(0,r.jsx)(n.h4,{id:"returns-13",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:'"queued"'})," | ",(0,r.jsx)(n.code,{children:'"refreshed"'}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"refreshinfiniteadslot",children:"refreshInfiniteAdSlot()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"refreshInfiniteAdSlot"}),"(",(0,r.jsx)(n.code,{children:"domId"}),", ",(0,r.jsx)(n.code,{children:"idOfConfiguredSlot"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:'"queued"'})," | ",(0,r.jsx)(n.code,{children:'"refreshed"'}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Copy the configuration of a slot with an ",(0,r.jsx)(n.code,{children:"infinite"})," loading behaviour and add it to a slot with the given domId.\nRefresh the created ad slot as soon as possible afterwards."]}),"\n",(0,r.jsxs)(n.p,{children:["Ad slots are batched until requestAds() is being called. This reduces the amount of requests made to the\nad server if the ",(0,r.jsx)(n.code,{children:"refreshInfiniteAdSlot"})," calls are before the ad tag is loaded."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"This API is mostly used in combination with the lazy-loading module that identifies slots\nwhich should be treated as infinite ad units with the help of a given CSS selector."}),"\n",(0,r.jsx)(n.p,{children:"The publisher needs to make sure:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"all infinite ad units are already in the DOM"}),"\n",(0,r.jsx)(n.li,{children:"all infinite ad units in the DOM have the same CSS class/attribute (no domId needed, it will be set automatically in a sequential order)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Requirements in the ad tag:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["the corresponding CSS selector is used as ",(0,r.jsx)(n.code,{children:"selector"})," in the configuration of the one ad slot that has an ",(0,r.jsx)(n.code,{children:"infinite"})," laading behavior"]}),"\n",(0,r.jsx)(n.li,{children:"the same CSS selector is used in the lazy-loading module"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-10",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"domId"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsx)(n.p,{children:"the domId of the newly created ad slot"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"idOfConfiguredSlot"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.p,{children:["the domId of the configured ad slot with an ",(0,r.jsx)(n.code,{children:"infinite"})," loading behaviour whose config should be copied"]}),"\n",(0,r.jsx)(n.h4,{id:"returns-14",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:'"queued"'})," | ",(0,r.jsx)(n.code,{children:'"refreshed"'}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"registermodule",children:"registerModule()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"registerModule"}),"(",(0,r.jsx)(n.code,{children:"module"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Register a module to configure publisher specific behaviour. This API is not for external\nusage. All list of modules can be received from highfivve."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-11",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"module"}),": ",(0,r.jsx)(n.code,{children:"IModule"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-15",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"requestads",children:"requestAds()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"requestAds"}),"(): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/IConfigurable",children:(0,r.jsx)(n.code,{children:"IConfigurable"})})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/ISinglePageApp",children:(0,r.jsx)(n.code,{children:"ISinglePageApp"})})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/IFinished",children:(0,r.jsx)(n.code,{children:"IFinished"})})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/IError",children:(0,r.jsx)(n.code,{children:"IError"})}),">"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Start requesting ads as soon as the tag has been configured."}),"\n",(0,r.jsxs)(n.p,{children:["The behaviour differs if ",(0,r.jsx)(n.code,{children:"spa.enabled: true"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-16",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/IConfigurable",children:(0,r.jsx)(n.code,{children:"IConfigurable"})})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/ISinglePageApp",children:(0,r.jsx)(n.code,{children:"ISinglePageApp"})})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/IFinished",children:(0,r.jsx)(n.code,{children:"IFinished"})})," | ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/namespaces/state/interfaces/IError",children:(0,r.jsx)(n.code,{children:"IError"})}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"resolveadunitpath",children:"resolveAdUnitPath()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"resolveAdUnitPath"}),"(",(0,r.jsx)(n.code,{children:"adUnitPath"}),", ",(0,r.jsx)(n.code,{children:"options"}),"?): ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Resolves an ad unit path by replacing the ad unit path variables.\nOptionally the networkChildId can be removed."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-12",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"adUnitPath"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.p,{children:["the ad unit path that may contain variables in the form of ",(0,r.jsx)(n.code,{children:"{variable name}"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"options?"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/type-aliases/ResolveAdUnitPathOptions",children:(0,r.jsx)(n.code,{children:"ResolveAdUnitPathOptions"})})]}),"\n",(0,r.jsx)(n.p,{children:"configure resolving behaviour"}),"\n",(0,r.jsx)(n.h4,{id:"returns-17",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"setadunitpathvariables",children:"setAdUnitPathVariables()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"setAdUnitPathVariables"}),"(",(0,r.jsx)(n.code,{children:"variables"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Sets new ad unit path variables."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-13",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"variables"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/type-aliases/AdUnitPathVariables",children:(0,r.jsx)(n.code,{children:"AdUnitPathVariables"})})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-18",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"setaudience",children:"setAudience()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"setAudience"}),"(",(0,r.jsx)(n.code,{children:"audience"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Provide additional information about the user visiting the page."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-14",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"audience"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/AudienceTargeting",children:(0,r.jsx)(n.code,{children:"AudienceTargeting"})})]}),"\n",(0,r.jsx)(n.p,{children:"contains all advertising relevant information about the user"}),"\n",(0,r.jsx)(n.h4,{id:"returns-19",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"setlogger",children:"setLogger()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"setLogger"}),"(",(0,r.jsx)(n.code,{children:"logger"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Set a custom logger that should be used for logging."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-15",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"logger"}),": ",(0,r.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliLogger",children:(0,r.jsx)(n.code,{children:"MoliLogger"})})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-20",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.h4,{id:"see-2",children:"See"}),"\n",(0,r.jsx)(n.p,{children:"[[MoliLogger]]"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"settargeting",children:"setTargeting()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"setTargeting"}),"(",(0,r.jsx)(n.code,{children:"key"}),", ",(0,r.jsx)(n.code,{children:"value"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Set a key value. Can be used in DFP or prebid bids configuration."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-16",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"key"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u2022 ",(0,r.jsx)(n.strong,{children:"value"}),": ",(0,r.jsx)(n.code,{children:"string"})," | ",(0,r.jsx)(n.code,{children:"string"}),"[]"]}),"\n",(0,r.jsx)(n.h4,{id:"returns-21",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"triggerdelay",children:"triggerDelay()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"triggerDelay"}),"(): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Resumes all ad pipelines that have been delayed through a ",(0,r.jsx)(n.code,{children:"refreshAdSlots()"})," call with a\ndelay option:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"moli.refreshAdSlots(['content_1'], { delay: { } });\n"})}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use cases"}),"\n",(0,r.jsxs)(n.p,{children:["Slots are cleaned up when ",(0,r.jsx)(n.code,{children:"requestAds()"})," is called, when a slot is refreshed through the\nad reload module or when ",(0,r.jsx)(n.code,{children:"refreshAdSlot"})," is being called."]}),"\n",(0,r.jsx)(n.p,{children:"Use this method if there is an on-page interaction that requires the ad slot to be cleaned up,\nbut refreshed after another interaction. A common example would be modal popups that are opened."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"User opens a modal"}),"\n",(0,r.jsx)(n.li,{children:"Refresh ad slot with delay option"}),"\n",(0,r.jsx)(n.li,{children:"User closes the modal"}),"\n",(0,r.jsxs)(n.li,{children:["Call ",(0,r.jsx)(n.code,{children:"moli.triggerDelay()"})," to resume the ad pipeline and refresh the ad slot"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"note",children:"Note"}),"\n",(0,r.jsxs)(n.p,{children:["The current implementation uses ",(0,r.jsx)(n.code,{children:"window"})," event listeners to trigger the delayed ad pipeline.\nThis might change in the future, so don't try to send those events manually."]}),"\n",(0,r.jsx)(n.h3,{id:"event",children:"Event"}),"\n",(0,r.jsx)(n.p,{children:"The current implementation sends a custom event like this"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"window.dispatchEvent(new CustomEvent('h5v.trigger-delay'))\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In the future, we might add a ",(0,r.jsx)(n.code,{children:"detail"})," property to the event that contains the domIds for,\nwhich the pipeline should be resumed. This is not trivial as the pipeline can't be resumed for\na subset of ad slots, but only for all ad slots that have been delayed."]}),"\n",(0,r.jsx)(n.h4,{id:"returns-22",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);