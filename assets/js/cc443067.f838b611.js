"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[9085],{3510:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"api/types/moliConfig/interfaces/MoliConfig","title":"Interface: MoliConfig","description":"Moli Configuration","source":"@site/docs/api/types/moliConfig/interfaces/MoliConfig.md","sourceDirName":"api/types/moliConfig/interfaces","slug":"/api/types/moliConfig/interfaces/MoliConfig","permalink":"/moli-ad-tag/docs/api/types/moliConfig/interfaces/MoliConfig","draft":false,"unlisted":false,"editUrl":"https://github.com/highfivve/moli-ad-tag/docs/api/types/moliConfig/interfaces/MoliConfig.md","tags":[],"version":"current","frontMatter":{},"sidebar":"API","previous":{"title":"Interface: AdSlot","permalink":"/moli-ad-tag/docs/api/types/moliConfig/interfaces/AdSlot"},"next":{"title":"auction","permalink":"/moli-ad-tag/docs/api/types/moliConfig/namespaces/auction/"}}');var o=n(4848),l=n(8453);const d={},r="Interface: MoliConfig",a={},t=[{value:"Moli Configuration",id:"moli-configuration",level:2},{value:"Properties",id:"properties",level:2},{value:"a9?",id:"a9",level:3},{value:"adServer?",id:"adserver",level:3},{value:"bridge?",id:"bridge",level:3},{value:"Bridge Configuration",id:"bridge-configuration",level:2},{value:"buckets?",id:"buckets",level:3},{value:"consent?",id:"consent",level:3},{value:"domain?",id:"domain",level:3},{value:"Ad Unit Path Variables",id:"ad-unit-path-variables",level:2},{value:"Label",id:"label",level:2},{value:"Why ?",id:"why-",level:2},{value:"Examples",id:"examples",level:2},{value:"See",id:"see",level:4},{value:"globalAuctionContext?",id:"globalauctioncontext",level:3},{value:"gpt?",id:"gpt",level:3},{value:"pageSettingsConfig?",id:"pagesettingsconfig",level:4},{value:"labelSizeConfig?",id:"labelsizeconfig",level:3},{value:"modules?",id:"modules",level:3},{value:"Module configuration",id:"module-configuration",level:2},{value:"prebid?",id:"prebid",level:3},{value:"requestAds?",id:"requestads",level:3},{value:"Default",id:"default",level:4},{value:"schain",id:"schain",level:3},{value:"slots",id:"slots",level:3},{value:"spa?",id:"spa",level:3},{value:"targeting?",id:"targeting",level:3},{value:"version?",id:"version",level:3}];function c(e){const i={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"interface-moliconfig",children:"Interface: MoliConfig"})}),"\n",(0,o.jsx)(i.h2,{id:"moli-configuration",children:"Moli Configuration"}),"\n",(0,o.jsx)(i.p,{children:"Contains the configuration for the ad tag that is served from a backend."}),"\n",(0,o.jsx)(i.h2,{id:"properties",children:"Properties"}),"\n",(0,o.jsx)(i.h3,{id:"a9",children:"a9?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"a9"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/headerbidding/interfaces/A9Config",children:(0,o.jsx)(i.code,{children:"A9Config"})})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Amazon A9 headerbidding configuration"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"adserver",children:"adServer?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"adServer"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/type-aliases/AdServer",children:(0,o.jsx)(i.code,{children:"AdServer"})})]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["default is ",(0,o.jsx)(i.code,{children:"gam"})]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"bridge",children:"bridge?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"bridge"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/bridge/interfaces/BridgeConfig",children:(0,o.jsx)(i.code,{children:"BridgeConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"bridge-configuration",children:"Bridge Configuration"}),"\n",(0,o.jsx)(i.p,{children:"The ad tag supports a postMessage protocol to communicate with other javascript inside an iframe."}),"\n",(0,o.jsx)(i.p,{children:'The most common use case, is to trigger ads from within a creative that is served in an iframe, e.g. for backfill\nimplementations or "post-bid".'}),"\n",(0,o.jsxs)(i.p,{children:["If enabled and configured a listener will be attached to the current ",(0,o.jsx)(i.code,{children:"window"})," object that listens for messages."]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"buckets",children:"buckets?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"buckets"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/bucket/interfaces/GlobalBucketConfig",children:(0,o.jsx)(i.code,{children:"GlobalBucketConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Configure bucketing behaviour"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"consent",children:"consent?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"consent"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/consent/interfaces/ConsentConfig",children:(0,o.jsx)(i.code,{children:"ConsentConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"domain",children:"domain?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"domain"}),": ",(0,o.jsx)(i.code,{children:"string"})]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:['Set the domain on which this ad tag runs. This should be the "top private domain", which is the ',(0,o.jsx)(i.code,{children:"subdomain"})," + ",(0,o.jsx)(i.code,{children:"public prefix"}),'.\nThe notion "top private domain" comes from the Google Guava library.']}),"\n",(0,o.jsx)(i.p,{children:"In general, it's recommended to set the domain in the ad tag configuration. As a fallback, the ad tag tries to\nextract the top private domain, but with a very limited implementation. This also fails if the ad tag is called\non other domains such as google.transl or in iframe integrations."}),"\n",(0,o.jsx)(i.h2,{id:"ad-unit-path-variables",children:"Ad Unit Path Variables"}),"\n",(0,o.jsxs)(i.p,{children:["The ",(0,o.jsx)(i.code,{children:"domain"})," will be used in the ",(0,o.jsx)(i.code,{children:"adUnitPathVariables"}),". A domain set via ",(0,o.jsx)(i.code,{children:"setAdUnitPathVariables"})," takes precedences over\nthe ad tag config. If neither ",(0,o.jsx)(i.code,{children:"domain"})," is set in the config, nor provided via ",(0,o.jsx)(i.code,{children:"setAdUnitPathVariables"}),", we make a best\neffort guess via ",(0,o.jsx)(i.code,{children:"window.location.hostname"}),"."]}),"\n",(0,o.jsx)(i.h2,{id:"label",children:"Label"}),"\n",(0,o.jsxs)(i.p,{children:["If set, the ",(0,o.jsx)(i.code,{children:"domain"})," will also be added as a label."]}),"\n",(0,o.jsx)(i.h2,{id:"why-",children:"Why ?"}),"\n",(0,o.jsxs)(i.p,{children:["The ",(0,o.jsx)(i.code,{children:"domain"})," is part of the ad unit path and used for targeting certain bidders that work on a per-domain basis."]}),"\n",(0,o.jsx)(i.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"example.com"})," - the most common domain"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"example.co.uk"})," - some country TLDs span the last two segments"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"myblog.github.io"})," - github.io is a public suffix and subdomains are separate domains"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"my-sub-domain.my-domain.com"})," - my domain is not in the publc_suffix_list.dat , but I still use subdomains for different sites"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"see",children:"See"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.a,{href:"https://www.npmjs.com/package/parse-domain",children:"https://www.npmjs.com/package/parse-domain"})," npm package for root domain parsing"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.a,{href:"https://publicsuffix.org/list/public_suffix_list.dat",children:"https://publicsuffix.org/list/public_suffix_list.dat"})," a list of all public suffixes"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.a,{href:"https://github.com/google/guava/wiki/InternetDomainNameExplained",children:"https://github.com/google/guava/wiki/InternetDomainNameExplained"})," detailed explanation for TLD, public suffix and registry suffix"]}),"\n"]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"globalauctioncontext",children:"globalAuctionContext?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"globalAuctionContext"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/auction/interfaces/GlobalAuctionContextConfig",children:(0,o.jsx)(i.code,{children:"GlobalAuctionContextConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Configure optimization through the global auction context"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"gpt",children:"gpt?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"gpt"}),": ",(0,o.jsx)(i.code,{children:"object"})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Google Publisher Tag configuration"}),"\n",(0,o.jsx)(i.h4,{id:"pagesettingsconfig",children:"pageSettingsConfig?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"pageSettingsConfig"}),": ",(0,o.jsx)(i.code,{children:"GptPageSettingsConfig"})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"GPT page settings configuration."}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"labelsizeconfig",children:"labelSizeConfig?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"labelSizeConfig"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/sizeConfigs/interfaces/LabelSizeConfigEntry",children:(0,o.jsx)(i.code,{children:"LabelSizeConfigEntry"})}),"[]"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:'Label configuration to support "responsive" ads.\nThis is an alternative solution to custom () => DfpSlotSize[] functions and is taken\nfrom prebid.js.'}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.a,{href:"https://prebid.org/dev-docs/publisher-api-reference.html#setConfig-Configure-Responsive-Ads",children:"https://prebid.org/dev-docs/publisher-api-reference.html#setConfig-Configure-Responsive-Ads"})}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"modules",children:"modules?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"modules"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/modules/interfaces/ModulesConfig",children:(0,o.jsx)(i.code,{children:"ModulesConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"module-configuration",children:"Module configuration"}),"\n",(0,o.jsxs)(i.p,{children:["Optional module configuration. Every module must be enabled individually and has its own configuration.\nA module may the access its configuration via the ",(0,o.jsx)(i.code,{children:"moli"})," configuration. This is very similar to how prebid handles\nmodule configuration."]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"prebid",children:"prebid?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"prebid"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/headerbidding/interfaces/PrebidConfig",children:(0,o.jsx)(i.code,{children:"PrebidConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"optional prebid configuration"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"requestads",children:"requestAds?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"requestAds"}),": ",(0,o.jsx)(i.code,{children:"boolean"})]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["If set to true, ads will immediately requested after the ad tag is loaded.\nThis is usually called ",(0,o.jsx)(i.code,{children:"instant"})," mode."]}),"\n",(0,o.jsxs)(i.p,{children:["Set this to ",(0,o.jsx)(i.code,{children:"false"})," if the publisher calls ",(0,o.jsx)(i.code,{children:"moli.requestAds()"})," on their and, because they need to"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["configure additional parameters via the ",(0,o.jsx)(i.code,{children:"set*"})," and ",(0,o.jsx)(i.code,{children:"add*"})," API on the ",(0,o.jsx)(i.code,{children:"moli"})," global"]}),"\n",(0,o.jsx)(i.li,{children:"want to defer ad loading to a certain point"}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["We call this the ",(0,o.jsx)(i.code,{children:"publisherMode"})]}),"\n",(0,o.jsx)(i.h4,{id:"default",children:"Default"}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"false"})," (publisherMode)"]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"schain",children:"schain"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.strong,{children:"schain"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/schain/interfaces/SupplyChainConfig",children:(0,o.jsx)(i.code,{children:"SupplyChainConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"supply chain object"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"slots",children:"slots"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.strong,{children:"slots"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/interfaces/AdSlot",children:(0,o.jsx)(i.code,{children:"AdSlot"})}),"[]"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"all possible ad slots"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"spa",children:"spa?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"spa"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/spa/interfaces/SinglePageAppConfig",children:(0,o.jsx)(i.code,{children:"SinglePageAppConfig"})})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Optional configuration for single page"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"targeting",children:"targeting?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"targeting"}),": ",(0,o.jsx)(i.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/googleAdManager/interfaces/Targeting",children:(0,o.jsx)(i.code,{children:"Targeting"})})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"optional key-value targeting for DFP"}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsx)(i.h3,{id:"version",children:"version?"}),"\n",(0,o.jsxs)(i.blockquote,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"readonly"})," ",(0,o.jsx)(i.code,{children:"optional"})," ",(0,o.jsx)(i.strong,{children:"version"}),": ",(0,o.jsx)(i.code,{children:"string"})]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"The version of the ad tag. This is used to identify the version of the ad tag\nthat is served to the client. This is useful for debugging purposes."})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>r});var s=n(6540);const o={},l=s.createContext(o);function d(e){const i=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),s.createElement(l.Provider,{value:i},e.children)}}}]);