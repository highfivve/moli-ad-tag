"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[6345],{3905:(t,e,a)=>{a.d(e,{Zo:()=>s,kt:()=>c});var r=a(7294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var o=r.createContext({}),p=function(t){var e=r.useContext(o),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},s=function(t){var e=p(t.components);return r.createElement(o.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,i=t.originalType,o=t.parentName,s=d(t,["components","mdxType","originalType","parentName"]),u=p(a),c=n,g=u["".concat(o,".").concat(c)]||u[c]||m[c]||i;return a?r.createElement(g,l(l({ref:e},s),{},{components:a})):r.createElement(g,l({ref:e},s))}));function c(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var i=a.length,l=new Array(i);l[0]=u;var d={};for(var o in e)hasOwnProperty.call(e,o)&&(d[o]=e[o]);d.originalType=t,d.mdxType="string"==typeof t?t:n,l[1]=d;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8188:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>d,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const i={id:"prebid_first_party_data",title:"Module: prebid-first-party-data",sidebar_label:"prebid-first-party-data",sidebar_position:0,custom_edit_url:null},l="Prebid First Party Data Module",d={unversionedId:"modules/modules/prebid_first_party_data",id:"modules/modules/prebid_first_party_data",title:"Module: prebid-first-party-data",description:"The main purpose of this module is to provide a consistent API for publishers that don't want to interact with pbjs",source:"@site/docs/modules/modules/prebid_first_party_data.md",sourceDirName:"modules/modules",slug:"/modules/modules/prebid_first_party_data",permalink:"/moli-ad-tag/docs/modules/modules/prebid_first_party_data",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"prebid_first_party_data",title:"Module: prebid-first-party-data",sidebar_label:"prebid-first-party-data",sidebar_position:0,custom_edit_url:null},sidebar:"Modules",previous:{title:"lazy-load",permalink:"/moli-ad-tag/docs/modules/modules/lazy_load"},next:{title:"pubstack",permalink:"/moli-ad-tag/docs/modules/modules/pubstack"}},o={},p=[{value:"Integration",id:"integration",level:2},{value:"Prebid.js <em>First Party Data Enrichment Module</em>",id:"prebidjs-first-party-data-enrichment-module",level:2},{value:"Classes",id:"classes",level:2},{value:"Type Aliases",id:"type-aliases",level:2},{value:"GptTargetingMapping",id:"gpttargetingmapping",level:3},{value:"Type declaration",id:"type-declaration",level:4},{value:"PrebidFirstPartyDataModuleConfig",id:"prebidfirstpartydatamoduleconfig",level:3},{value:"Type declaration",id:"type-declaration-1",level:4}],s={toc:p};function m(t){let{components:e,...a}=t;return(0,n.kt)("wrapper",(0,r.Z)({},s,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"prebid-first-party-data-module"},"Prebid First Party Data Module"),(0,n.kt)("p",null,"The main purpose of this module is to provide a consistent API for publishers that don't want to interact with ",(0,n.kt)("inlineCode",{parentName:"p"},"pbjs"),"\ndirectly. This module"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"supports a static configuration that is built into the ad tag. Useful for static properties like ",(0,n.kt)("inlineCode",{parentName:"li"},"site.cat"),",\n",(0,n.kt)("inlineCode",{parentName:"li"},"site.mobile")," or ",(0,n.kt)("inlineCode",{parentName:"li"},"site.privacypolicy")),(0,n.kt)("li",{parentName:"ul"},"supports a limited mapping definition from key-values available via ",(0,n.kt)("inlineCode",{parentName:"li"},"moli.setTargeting"),". This allows to reuse the\nIAB categories")),(0,n.kt)("h2",{id:"integration"},"Integration"),(0,n.kt)("p",null,"In your ",(0,n.kt)("inlineCode",{parentName:"p"},"index.ts")," import the prebid-fpd-module module and register it."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import { PrebidFpd } from '@highfivve/module-prebid-first-party-data'\n\nmoli.registerModule(new PrebidFpd({\n   staticPrebidFirstPartyData: { },\n   gptTargetingMappings: {\n     cat: 'openrtb2_page_cat'\n   }\n}));\n")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"gptTargetingMappings")," property is optional. For static IAB categories you can also use the\n",(0,n.kt)("inlineCode",{parentName:"p"},"staticPrebidFirstPartyData")," object."),(0,n.kt)("h2",{id:"prebidjs-first-party-data-enrichment-module"},"Prebid.js ",(0,n.kt)("em",{parentName:"h2"},"First Party Data Enrichment Module")),(0,n.kt)("p",null,"[The First Party Data Enrichment Module]","(",(0,n.kt)("a",{parentName:"p",href:"https://docs.prebid.org/dev-docs/modules/enrichmentFpdModule.html%5D"},"https://docs.prebid.org/dev-docs/modules/enrichmentFpdModule.html]")," already\nextracts some generic values directly from the side and should always be included alongside this module."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("inlineCode",{parentName:"strong"},"See"))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.prebid.org/features/firstPartyData.html"},"https://docs.prebid.org/features/firstPartyData.html")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.prebid.org/dev-docs/modules/enrichmentFpdModule.html"},"https://docs.prebid.org/dev-docs/modules/enrichmentFpdModule.html"))),(0,n.kt)("h2",{id:"classes"},"Classes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/moli-ad-tag/docs/modules/classes/prebid_first_party_data.PrebidFirstPartyDataModule"},"PrebidFirstPartyDataModule"))),(0,n.kt)("h2",{id:"type-aliases"},"Type Aliases"),(0,n.kt)("h3",{id:"gpttargetingmapping"},"GptTargetingMapping"),(0,n.kt)("p",null,"\u01ac ",(0,n.kt)("strong",{parentName:"p"},"GptTargetingMapping"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"Object")),(0,n.kt)("h4",{id:"type-declaration"},"Type declaration"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"cat?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The ",(0,n.kt)("inlineCode",{parentName:"td"},"key")," in the targeting map that contains the ",(0,n.kt)("inlineCode",{parentName:"td"},"cat")," values.  The targeting values should be an array of IAB content categories of the site.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"iabV2?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The ",(0,n.kt)("inlineCode",{parentName:"td"},"key")," in the targeting map that contains the ",(0,n.kt)("inlineCode",{parentName:"td"},"iabV2")," segment values.  The targeting values should be an array of IABV2 content category ids that describe the current page or view of the site. if not defined, we'll not set the data object.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"iabV3?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The ",(0,n.kt)("inlineCode",{parentName:"td"},"key")," in the targeting map that contains the ",(0,n.kt)("inlineCode",{parentName:"td"},"iabV3")," segment values.  The targeting values should be an array of IABV3 content category ids that describe the current page or view of the site. if not defined, we'll not set the data object.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"pageCat?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The ",(0,n.kt)("inlineCode",{parentName:"td"},"key")," in the targeting map that contains the ",(0,n.kt)("inlineCode",{parentName:"td"},"pageCat")," values.  The targeting values should be an array of IAB content categories that describe the current page or view of the site. if not defined, ",(0,n.kt)("inlineCode",{parentName:"td"},"cat")," will be used as a fallback")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"sectionCat?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The ",(0,n.kt)("inlineCode",{parentName:"td"},"key")," in the targeting map that contains the ",(0,n.kt)("inlineCode",{parentName:"td"},"sectionCat")," values.  The targeting values should be an array of IAB content categories that describe the current section of the site. If not defined, ",(0,n.kt)("inlineCode",{parentName:"td"},"cat")," will be used as a fallback")))),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"prebidfirstpartydatamoduleconfig"},"PrebidFirstPartyDataModuleConfig"),(0,n.kt)("p",null,"\u01ac ",(0,n.kt)("strong",{parentName:"p"},"PrebidFirstPartyDataModuleConfig"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"Object")),(0,n.kt)("h4",{id:"type-declaration-1"},"Type declaration"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"gptTargetingMappings?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/moli-ad-tag/docs/modules/modules/prebid_first_party_data#gpttargetingmapping"},(0,n.kt)("inlineCode",{parentName:"a"},"GptTargetingMapping"))),(0,n.kt)("td",{parentName:"tr",align:"left"},"static mapping definitions for relevant OpenRTB 2.5 properties from gpt targetings.  Use this to extract dynamic values set via ",(0,n.kt)("inlineCode",{parentName:"td"},"moli.setTargeting()"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"iabDataProviderName?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Name of the provider that is used in the site.content.data segments as provider name. Usually, this is the name/domain of the publisher.  ",(0,n.kt)("a",{parentName:"td",href:"https://docs.prebid.org/features/firstPartyData.html#segments-and-taxonomy"},"https://docs.prebid.org/features/firstPartyData.html#segments-and-taxonomy"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"staticPrebidFirstPartyData?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"PrebidFirstPartyData")),(0,n.kt)("td",{parentName:"tr",align:"left"},"A static OpenRTB2 config that is merged with the dynamic settings from the key value targetings")))))}m.isMDXComponent=!0}}]);