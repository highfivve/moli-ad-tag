(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{135:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return o})),n.d(t,"toc",(function(){return b})),n.d(t,"default",(function(){return d}));var a=n(3),r=n(7),i=(n(0),n(327)),l={id:"generic_skin",title:"Module: generic-skin",sidebar_label:"generic-skin",custom_edit_url:null,hide_title:!0},o={unversionedId:"modules/modules/generic_skin",id:"modules/modules/generic_skin",isDocsHomePage:!1,title:"Module: generic-skin",description:"Module: generic-skin",source:"@site/docs/modules/modules/generic_skin.md",slug:"/modules/modules/generic_skin",permalink:"/docs/modules/modules/generic_skin",editUrl:null,version:"current",sidebar_label:"generic-skin",sidebar:"docs",previous:{title:"Module: confiant",permalink:"/docs/modules/modules/confiant"},next:{title:"Module: identitylink",permalink:"/docs/modules/modules/identitylink"}},b=[{value:"Integration",id:"integration",children:[{value:"Skin optimization",id:"skin-optimization",children:[]}]},{value:"Table of contents",id:"table-of-contents",children:[{value:"Enumerations",id:"enumerations",children:[]},{value:"Classes",id:"classes",children:[]}]},{value:"Type aliases",id:"type-aliases",children:[{value:"DSPXFormatFilter",id:"dspxformatfilter",children:[]},{value:"FormatFilter",id:"formatfilter",children:[]},{value:"JustPremiumFormatFilter",id:"justpremiumformatfilter",children:[]},{value:"SkinConfig",id:"skinconfig",children:[]},{value:"SkinModuleConfig",id:"skinmoduleconfig",children:[]}]}],c={toc:b};function d(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"module-generic-skin"},"Module: generic-skin"),Object(i.b)("h1",{id:"generic-skin--wallpaper-module"},"Generic Skin / Wallpaper Module"),Object(i.b)("p",null,"This module allows us to configure ",Object(i.b)("inlineCode",{parentName:"p"},"prebidResponse")," listener that when a just premium or dspx wallpaper has won the auction"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"removes certain other ad units"),Object(i.b)("li",{parentName:"ul"},"hides the ad slot div where the skin was requested")),Object(i.b)("h2",{id:"integration"},"Integration"),Object(i.b)("p",null,"In your ",Object(i.b)("inlineCode",{parentName:"p"},"index.ts")," import the generic-skin module and register it."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},"import { Skin } from '@highfivve/module-generic-skin'\n\nmoli.registerModule(new Skin({\n  configs: [\n    // configuration for regular wallpaper/skin from JustPremium or Screen on Demand (DSPX)\n    {\n      formatFilter: [\n        { bidder: 'justpremium', format: 'wp' },\n        { bidder: 'dspx' },\n      ],\n      skinAdSlotDomId: 'my_header',\n      hideSkinAdSlot: false,\n      hideBlockedSlots: true,\n      blockedAdSlotDomIds: [\n        'my_sidebar_1',\n        'my_sidebar_2',\n        'my_sidebar_left',\n        'my_floorad'\n      ]\n    }\n  ]\n}, window));\n")),Object(i.b)("h3",{id:"skin-optimization"},"Skin optimization"),Object(i.b)("p",null,"This module is capable of blocking the skin ad if the summed up CPM of all\nblocked ad slots is higher than the skin CPM."),Object(i.b)("p",null,"This requires a separate ad unit for the skin."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},"import { Skin } from '@highfivve/module-generic-skin'\n\nmoli.registerModule(new Skin({\n  configs: [\n    // configuration for regular wallpaper/skin from JustPremium or Screen on Demand (DSPX)\n    {\n      formatFilter: [\n        { bidder: 'justpremium', format: 'wp' },\n        { bidder: 'dspx' },\n      ],\n      skinAdSlotDomId: 'my_skin',\n      hideSkinAdSlot: false,\n      hideBlockedSlots: true,\n      blockedAdSlotDomIds: [\n        'my_header',\n        'my_sidebar_1',\n        'my_sidebar_2',\n        'my_sidebar_left',\n        'my_floorad'\n      ],\n      enableCpmComparison: true // set this to true to prevent skin from rendering if its cpm is too low\n    }\n  ]\n}, window));\n")),Object(i.b)("h2",{id:"table-of-contents"},"Table of contents"),Object(i.b)("h3",{id:"enumerations"},"Enumerations"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/docs/modules/enums/generic_skin.skinconfigeffect"},"SkinConfigEffect"))),Object(i.b)("h3",{id:"classes"},"Classes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"/docs/modules/classes/generic_skin.skin"},"Skin"))),Object(i.b)("h2",{id:"type-aliases"},"Type aliases"),Object(i.b)("h3",{id:"dspxformatfilter"},"DSPXFormatFilter"),Object(i.b)("p",null,"\u01ac ",Object(i.b)("strong",{parentName:"p"},"DSPXFormatFilter"),": ",Object(i.b)("em",{parentName:"p"},"object")),Object(i.b)("h4",{id:"type-declaration"},"Type declaration:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"left"},"Name"),Object(i.b)("th",{parentName:"tr",align:"left"},"Type"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"bidder")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("em",{parentName:"td"},"typeof")," prebidjs.DSPX")))),Object(i.b)("hr",null),Object(i.b)("h3",{id:"formatfilter"},"FormatFilter"),Object(i.b)("p",null,"\u01ac ",Object(i.b)("strong",{parentName:"p"},"FormatFilter"),": ",Object(i.b)("a",{parentName:"p",href:"/docs/modules/modules/generic_skin#justpremiumformatfilter"},Object(i.b)("em",{parentName:"a"},"JustPremiumFormatFilter"))," ","|"," ",Object(i.b)("a",{parentName:"p",href:"/docs/modules/modules/generic_skin#dspxformatfilter"},Object(i.b)("em",{parentName:"a"},"DSPXFormatFilter"))),Object(i.b)("hr",null),Object(i.b)("h3",{id:"justpremiumformatfilter"},"JustPremiumFormatFilter"),Object(i.b)("p",null,"\u01ac ",Object(i.b)("strong",{parentName:"p"},"JustPremiumFormatFilter"),": ",Object(i.b)("em",{parentName:"p"},"object")),Object(i.b)("h4",{id:"type-declaration-1"},"Type declaration:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"left"},"Name"),Object(i.b)("th",{parentName:"tr",align:"left"},"Type"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"bidder")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("em",{parentName:"td"},"typeof")," prebidjs.JustPremium")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"format")),Object(i.b)("td",{parentName:"tr",align:"left"},"prebidjs.JustPremiumFormat")))),Object(i.b)("hr",null),Object(i.b)("h3",{id:"skinconfig"},"SkinConfig"),Object(i.b)("p",null,"\u01ac ",Object(i.b)("strong",{parentName:"p"},"SkinConfig"),": ",Object(i.b)("em",{parentName:"p"},"object")),Object(i.b)("h4",{id:"type-declaration-2"},"Type declaration:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"left"},"Name"),Object(i.b)("th",{parentName:"tr",align:"left"},"Type"),Object(i.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"blockedAdSlotDomIds")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("em",{parentName:"td"},"string"),"[]"),Object(i.b)("td",{parentName:"tr",align:"left"},"dom ids of the ad slots that should not be requested when a just premium skin appears in the bid responses.  Depending on the wallpaperAdSlot these are usually skyscrapers left and right and if there's a specific wallpaper ad slot the header as well.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"enableCpmComparison")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("em",{parentName:"td"},"boolean")),Object(i.b)("td",{parentName:"tr",align:"left"},"If the skin cpm comparison should be active, i.e. not only logging, but also preventing a skin render if the other slots have a higher combined cpm.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"formatFilter")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/docs/modules/modules/generic_skin#formatfilter"},Object(i.b)("em",{parentName:"a"},"FormatFilter")),"[]"),Object(i.b)("td",{parentName:"tr",align:"left"},"A list of filters. If one of the filter applies then this configuration will be executed.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"hideBlockedSlots")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("em",{parentName:"td"},"boolean")),Object(i.b)("td",{parentName:"tr",align:"left"},"if true, the blocked ad slots will be set to display: none")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"hideSkinAdSlot")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("em",{parentName:"td"},"boolean")),Object(i.b)("td",{parentName:"tr",align:"left"},"if true, the ad slot will be set to display none")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"skinAdSlotDomId")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("em",{parentName:"td"},"string")),Object(i.b)("td",{parentName:"tr",align:"left"},"This is usually the dom id of the header ad slot.  Some setups may have an ad slot only for the just premium skin. This is the case if there are direct campaign formats for wallpapers that require a DFP road block.")))),Object(i.b)("hr",null),Object(i.b)("h3",{id:"skinmoduleconfig"},"SkinModuleConfig"),Object(i.b)("p",null,"\u01ac ",Object(i.b)("strong",{parentName:"p"},"SkinModuleConfig"),": ",Object(i.b)("em",{parentName:"p"},"object")),Object(i.b)("h4",{id:"type-declaration-3"},"Type declaration:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"left"},"Name"),Object(i.b)("th",{parentName:"tr",align:"left"},"Type"),Object(i.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"configs")),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/docs/modules/modules/generic_skin#skinconfig"},Object(i.b)("em",{parentName:"a"},"SkinConfig")),"[]"),Object(i.b)("td",{parentName:"tr",align:"left"},"A list of configurations. The first configuration with matching format filters will be used.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("inlineCode",{parentName:"td"},"trackSkinCpmLow"),"?"),Object(i.b)("td",{parentName:"tr",align:"left"},"(",Object(i.b)("inlineCode",{parentName:"td"},"cpms"),": { ",Object(i.b)("inlineCode",{parentName:"td"},"combinedNonSkinSlots"),": ",Object(i.b)("em",{parentName:"td"},"number")," ; ",Object(i.b)("inlineCode",{parentName:"td"},"skin"),": ",Object(i.b)("em",{parentName:"td"},"number"),"  }, ",Object(i.b)("inlineCode",{parentName:"td"},"skinConfig"),": ",Object(i.b)("a",{parentName:"td",href:"/docs/modules/modules/generic_skin#skinconfig"},Object(i.b)("em",{parentName:"a"},"SkinConfig")),", ",Object(i.b)("inlineCode",{parentName:"td"},"skinBid"),": prebidjs.IJustPremiumBidResponse ","|"," prebidjs.IGenericBidResponse) => ",Object(i.b)("em",{parentName:"td"},"void")),Object(i.b)("td",{parentName:"tr",align:"left"},"Function to track when the skin cpm is lower than the combined cpm of the ad slots that would be removed in its favour.")))))}d.isMDXComponent=!0},327:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),d=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=d(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),m=d(n),p=a,u=m["".concat(l,".").concat(p)]||m[p]||s[p]||i;return n?r.a.createElement(u,o(o({ref:t},c),{},{components:n})):r.a.createElement(u,o({ref:t},c))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=p;var o={};for(var b in t)hasOwnProperty.call(t,b)&&(o[b]=t[b]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);