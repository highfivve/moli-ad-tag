"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[9515],{3905:function(e,t,a){a.d(t,{Zo:function(){return s},kt:function(){return c}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),d=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=d(a),c=r,k=m["".concat(p,".").concat(c)]||m[c]||u[c]||l;return a?n.createElement(k,i(i({ref:t},s),{},{components:a})):n.createElement(k,i({ref:t},s))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5008:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return o},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return s},default:function(){return m}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),i=["components"],o={id:"zeotap",title:"Module: zeotap",sidebar_label:"zeotap",sidebar_position:0,custom_edit_url:null},p="[Zeotap](https://zeotap.com) data and identity plus module",d={unversionedId:"modules/modules/zeotap",id:"modules/modules/zeotap",isDocsHomePage:!1,title:"Module: zeotap",description:"This module provides Zeotap's data collection and identity provider functionality to moli.",source:"@site/docs/modules/modules/zeotap.md",sourceDirName:"modules/modules",slug:"/modules/modules/zeotap",permalink:"/docs/modules/modules/zeotap",editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"zeotap",title:"Module: zeotap",sidebar_label:"zeotap",sidebar_position:0,custom_edit_url:null},sidebar:"docs",previous:{title:"yield-optimization",permalink:"/docs/modules/modules/yield_optimization"},next:{title:"Architecture",permalink:"/docs/architecture"}},s=[{value:"Integration",id:"integration",children:[]},{value:"Classes",id:"classes",children:[]},{value:"Type aliases",id:"type-aliases",children:[{value:"DataKeyValue",id:"datakeyvalue",children:[]},{value:"ExclusionKeyValue",id:"exclusionkeyvalue",children:[]},{value:"ZeotapModuleConfig",id:"zeotapmoduleconfig",children:[]}]}],u={toc:s};function m(e){var t=e.components,a=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"zeotap-data-and-identity-plus-module"},(0,l.kt)("a",{parentName:"h1",href:"https://zeotap.com"},"Zeotap")," data and identity plus module"),(0,l.kt)("p",null,"This module provides Zeotap's data collection and identity provider functionality to moli."),(0,l.kt)("h2",{id:"integration"},"Integration"),(0,l.kt)("p",null,"In your ",(0,l.kt)("inlineCode",{parentName:"p"},"index.ts"),", import Zeotap and register the module."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import { Zeotap } from '@highfivve/module-zeotap';\n\nconst zeotap = new Zeotap({\n  assetUrl: '//spl.zeotap.com/mapper.js?env=mWeb&eventType=pageview&zdid=1337',\n  countryCode: 'DEU',\n  mode: 'default',\n  hashedEmailAddress: 'somehashedaddress',\n  dataKeyValues: [\n    { keyValueKey: 'channel', parameterKey: 'zcat' },\n    { keyValueKey: 'subChannel', parameterKey: 'zscat' },\n    { keyValueKey: 'tags', parameterKey: 'zcid' }\n  ],\n  exclusionKeyValues: [\n    { keyValueKey: 'channel', disableOnValue: 'MedicalHealth' },\n    { keyValueKey: 'subChannel', disableOnValue: 'Pornography' }\n  ]\n});\n\nmoli.registerModule(zeotap);\n")),(0,l.kt)("p",null,"Configure the module with:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"assetUrl"),": the zeotap ",(0,l.kt)("inlineCode",{parentName:"li"},"mapper.js")," URL (can be protocol relative)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"mode"),": the mode you want to run the module in, depending on your site's structure. If you're running a single\npage application (SPA), select ",(0,l.kt)("inlineCode",{parentName:"li"},"spa")," mode. Else, select ",(0,l.kt)("inlineCode",{parentName:"li"},"default"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"dataKeyValues"),": Specifies which keys to extract from moli's targeting (key/value pairs) and which key then to use to\ntransfer the extracted data in the Zeotap request URL."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"exclusionKeyValues"),": Specifies which key/value pairs should prevent the Zeotap script from being loaded, e.g. to\nprevent data collection in pages with sensitive topics such as medical/health content."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"countryCode")," ",(0,l.kt)("em",{parentName:"li"},"(optional)"),": your site's Alpha-ISO3 country code. If omitted, Zeotap will guess the country from the\nsender's IP address."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"hashedEmailAddress")," ",(0,l.kt)("em",{parentName:"li"},"(optional)"),": if you want to use Zeotap's id+ module, configure the module with a sha-256 hashed\nemail address.")),(0,l.kt)("h2",{id:"classes"},"Classes"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"../classes/zeotap.Zeotap"},"Zeotap"))),(0,l.kt)("h2",{id:"type-aliases"},"Type aliases"),(0,l.kt)("h3",{id:"datakeyvalue"},"DataKeyValue"),(0,l.kt)("p",null,"\u01ac ",(0,l.kt)("strong",{parentName:"p"},"DataKeyValue"),": ",(0,l.kt)("inlineCode",{parentName:"p"},"Object")),(0,l.kt)("p",null,"Used to specify which keys to extract from moli's targeting (key/value pairs) and which key then to use in the\nZeotap request URL."),(0,l.kt)("p",null,"For example, if you want to transfer a key/value pair with the key ",(0,l.kt)("inlineCode",{parentName:"p"},"xyz")," to Zeotap under the name ",(0,l.kt)("inlineCode",{parentName:"p"},"abc"),", the\nrespective DataKeyValue object would be:"),(0,l.kt)("p",null,"const transferXyz: DataKeyValue = {\nkeyValueKey: 'xyz',\nparameterKey: 'abc'\n}"),(0,l.kt)("h4",{id:"type-declaration"},"Type declaration"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"keyValueKey")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"parameterKey")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"string"))))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"exclusionkeyvalue"},"ExclusionKeyValue"),(0,l.kt)("p",null,"\u01ac ",(0,l.kt)("strong",{parentName:"p"},"ExclusionKeyValue"),": ",(0,l.kt)("inlineCode",{parentName:"p"},"Object")),(0,l.kt)("p",null,"Used to specify key/value pairs that will disable data collection (i.e. disable loading the Zeotap script)."),(0,l.kt)("p",null,"For example, if you want to disable data collection on sensitive content like medical content, the respective\nExclusionKeyValue object could look like this:"),(0,l.kt)("p",null,"const excludeMedical: ExclusionKeyValue = {\nkeyValueKey: 'contentType',\ndisableOnValue: 'MedicalTopic'\n}"),(0,l.kt)("h4",{id:"type-declaration-1"},"Type declaration"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"disableOnValue")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"keyValueKey")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"string"))))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"zeotapmoduleconfig"},"ZeotapModuleConfig"),(0,l.kt)("p",null,"\u01ac ",(0,l.kt)("strong",{parentName:"p"},"ZeotapModuleConfig"),": ",(0,l.kt)("inlineCode",{parentName:"p"},"Object")),(0,l.kt)("h4",{id:"type-declaration-2"},"Type declaration"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"assetUrl")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:"left"},"Points to the Zeotap script, containing only env, eventType and zdid parameters. The other parameters (country code, idp, hashed email address, and custom parameters) are added through configuration parameters.  ",(0,l.kt)("strong",{parentName:"td"},(0,l.kt)("inlineCode",{parentName:"strong"},"example"))," //spl.zeotap.com/mapper.js?env=mWeb&eventType=pageview&zdid=1337")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"countryCode?")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:"left"},'Optional Alpha-ISO3 country code, e.g. "DEU". If empty, Zeotap will guess the country from the requests\'s IP address.')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"dataKeyValues")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("a",{parentName:"td",href:"zeotap#datakeyvalue"},(0,l.kt)("inlineCode",{parentName:"a"},"DataKeyValue")),"[]"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Specifies which keys to extract from moli's targeting (key/value pairs) and which key then to use to transfer the extracted data in the Zeotap request URL.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"exclusionKeyValues")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("a",{parentName:"td",href:"zeotap#exclusionkeyvalue"},(0,l.kt)("inlineCode",{parentName:"a"},"ExclusionKeyValue")),"[]"),(0,l.kt)("td",{parentName:"tr",align:"left"},"Specifies which key/value pairs should prevent the Zeotap script from being loaded, e.g. to prevent data collection in pages with sensitive topics such as medical/health content.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"hashedEmailAddress?")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:"left"},"sha-256 hash of the user's email address. If you pass an email address here, the idplus module will be activated.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"mode")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},'"spa"')," ","|"," ",(0,l.kt)("inlineCode",{parentName:"td"},'"default"')),(0,l.kt)("td",{parentName:"tr",align:"left"},"The mode defines if the Zeotap script can be loaded repeatedly with updated parameters (in spa/single page application mode) or just once (for sever side rendered pages, mode = default).")))))}m.isMDXComponent=!0}}]);