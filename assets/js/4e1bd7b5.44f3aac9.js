"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[8081],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||o;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var p=2;p<o;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},849:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return d},default:function(){return u}});var a=n(7462),i=n(3366),o=(n(7294),n(3905)),r=["components"],l={title:"Size Config"},s=void 0,p={unversionedId:"features/size-config",id:"features/size-config",isDocsHomePage:!1,title:"Size Config",description:"The web is responsive and so should your ads be. The size config is allows you to filter sizes based on [media queries]",source:"@site/docs/features/size-config.md",sourceDirName:"features",slug:"/features/size-config",permalink:"/docs/features/size-config",editUrl:"https://github.com/highfivve/moli-ad-tag/docs/features/size-config.md",tags:[],version:"current",frontMatter:{title:"Size Config"},sidebar:"docs",previous:{title:"Glossary",permalink:"/docs/getting-started/glossary"},next:{title:"Prebid",permalink:"/docs/features/prebid"}},d=[{value:"Label Size Config",id:"label-size-config",children:[{value:"Device Layout and Labels",id:"device-layout-and-labels",children:[]}]},{value:"Ad Slot Size Config",id:"ad-slot-size-config",children:[]}],c={toc:d};function u(e){var t=e.components,n=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The web is responsive and so should your ads be. The size config is allows you to filter sizes based on ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries"},"media queries"),"\nand ",(0,o.kt)("a",{parentName:"p",href:"/docs/features/labels"},"labels"),". Size configs are defined in two places"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"global")," - the ",(0,o.kt)("a",{parentName:"li",href:"/docs/api/interfaces/Moli.MoliConfig#labelsizeconfig"},"label size config")," configures global ",(0,o.kt)("a",{parentName:"li",href:"/docs/features/labels"},"labels"),". Usually to separate ",(0,o.kt)("inlineCode",{parentName:"li"},"desktop")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"mobile")," placements."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"ad slot")," - each ad slot has a size config to filter the supported sizes")),(0,o.kt)("h2",{id:"label-size-config"},"Label Size Config"),(0,o.kt)("p",null,"There are various use cases for ",(0,o.kt)("a",{parentName:"p",href:"/docs/features/labels"},"labels"),". One is to filter out ad units, placements or configurations that should only\nbe available for a certain ",(0,o.kt)("a",{parentName:"p",href:"/docs/getting-started/glossary"},"device")," layouts. The ",(0,o.kt)("inlineCode",{parentName:"p"},"labelSizeConfig")," property is where you configure those labels."),(0,o.kt)("p",null,"A minimal configuration for a page with a layout breakpoint between ",(0,o.kt)("inlineCode",{parentName:"p"},"desktop")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"mobile")," at ",(0,o.kt)("inlineCode",{parentName:"p"},"768px")," looks like this."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="configuration.ts"',title:'"configuration.ts"'},"import { Moli } from '@highfivve/ad-tag';\n\nconst moliConfig: Moli.MoliConfig = {\n  slots: [ ... ],\n  // highlight-start\n  labelSizeConfig: [\n    {\n      labelsSupported: ['mobile'],\n      mediaQuery: '(max-width: 767px)'\n    },\n    {\n      labelsSupported: ['desktop'],\n      mediaQuery: '(min-width: 768px)'\n    }\n  ]\n  // highlight-end\n}\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The main ",(0,o.kt)("a",{parentName:"p",href:"/docs/getting-started/glossary"},"device")," labels ",(0,o.kt)("strong",{parentName:"p"},"should not")," overlap as they distinguish two different layouts on the page."))),(0,o.kt)("p",null,"You can think of the size config as a continuous scale that you split into labels"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"                               desktop             desktop\n                                                   wide screen\n          iPhone5   iPad4      iPad4\n                    landscape  portrait\n             \u2502          \u2502        \u2502                    \u2502\n  x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba screen width\n  0px      320px     768px     1024px             1920px       < 2000px\n\n  x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500x\n                      x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\n       mobile                        desktop\n")),(0,o.kt)("h3",{id:"device-layout-and-labels"},"Device Layout and Labels"),(0,o.kt)("p",null,"Usually ",(0,o.kt)("inlineCode",{parentName:"p"},"mobile")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"desktop")," are enough as labels for your page. Why not ",(0,o.kt)("inlineCode",{parentName:"p"},"tablet")," you may ask? Depending on how\na user holds the tablet, landscape or portrait, the page may show a mobile or a desktop layout. We have seen websites\nsimplify their page layouts over the last years into 1-column layouts on mobile and some times even desktop and everything\nthat's slightly bigger has a 2-column layout."),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Like your page layout, you shouldn't complicate your ad tag configuration."))),(0,o.kt)("p",null,'Still there are some cases where you need additional labels. The main reason are prebid bidders that don\'t understand\nmulti size bids. The recommendation is to create "sub labels" for a device type:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"labelSizeConfig: [\n  // ...\n  {\n    labelsSupported: ['desktop'],\n    mediaQuery: '(min-width: 768px)'\n  },\n  {\n    labelsSupported: ['desktop-800'],\n    mediaQuery: '(min-width: 860px)'\n  },\n  {\n    labelsSupported: ['desktop-970'],\n    mediaQuery: '(min-width: 1030px)'\n  }\n]\n")),(0,o.kt)("p",null,"This allows you to filter certain bids with ",(0,o.kt)("inlineCode",{parentName:"p"},"labelAll")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const bid = {\n  bidder: 'bidderA',\n  params: { },\n  // highlight-next-line\n  labelAll: ['desktop', 'desktop-800']\n};\n")),(0,o.kt)("p",null,"The ad tag will filter the bid if the label ",(0,o.kt)("inlineCode",{parentName:"p"},"desktop-800")," is not available."),(0,o.kt)("h2",{id:"ad-slot-size-config"},"Ad Slot Size Config"),(0,o.kt)("p",null,"Each ad slot ",(0,o.kt)("strong",{parentName:"p"},"must")," define a size config. An empty arrays means that all sizes are always allowed.\nA ",(0,o.kt)("inlineCode",{parentName:"p"},"SizeConfigEntry")," adds the configured ",(0,o.kt)("inlineCode",{parentName:"p"},"supportedSizes")," if the ",(0,o.kt)("inlineCode",{parentName:"p"},"mediaQuery")," and the ",(0,o.kt)("inlineCode",{parentName:"p"},"labels")," property match.\n",(0,o.kt)("inlineCode",{parentName:"p"},"labels")," is optional and should only be used in rare cases, where you have the same ad unit on multiple pages with\ndifferent layouts. An extra label for the page can then be used to additionally filter ad units."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Moli } from '@highfivve/ad-tag';\n\nconst slot: Moli.AdSlot = {\n  domId: 'content_1',\n  adUnitPath: '/1234/content_1',\n  sizes: [ [300, 250], [728, 90] ],\n  position: 'in-page',\n  behaviour: { loaded: 'eager'  },\n\n  // highlight-start\n  sizeConfig: [\n    {\n      mediaQuery: '(max-width: 767px)',\n      sizesSupported: [[300, 250]]\n    },\n    {\n      mediaQuery: '(min-width: 768px)',\n      sizesSupported: [[728, 90]]\n    }\n  ]\n  // highlight-end\n};\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Build your size configs from bottom up until the next breakpoint. Each config should only append sizes.\nThis keeps your size configs small as you don't have to duplicate a lot of sizes and optimizes revenue as there are more\nformats to bid on."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502468x60 \u2502         \u2502970x90|970x250                   \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524     \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n         \u2502320x50|300x100\u2502     \u2502800x250                              \u2502\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n  \u2502300x50|300x75|300x100\u2502728x90                                     \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\n  0px      320px     768px     1024px             1920px       < 2000px\n\n  x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500x\n                      x\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\n       mobile                        desktop\n")))}u.isMDXComponent=!0}}]);