"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[9002],{2890:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>r});const l=JSON.parse('{"id":"features/labels","title":"Labels","description":"Labels are generic identifiers that can be assigned to various entities in your ad tag configuration. They provide a flexible way to filter ad slots, prebid bids, and size configurations based on specific criteria.","source":"@site/docs/features/labels.md","sourceDirName":"features","slug":"/features/labels","permalink":"/moli-ad-tag/docs/features/labels","draft":false,"unlisted":false,"editUrl":"https://github.com/highfivve/moli-ad-tag/docs/features/labels.md","tags":[],"version":"current","frontMatter":{"title":"Labels"},"sidebar":"docs","previous":{"title":"Targeting","permalink":"/moli-ad-tag/docs/features/targeting"},"next":{"title":"Ad Slot Buckets","permalink":"/moli-ad-tag/docs/features/buckets"}}');var s=i(4848),a=i(8453);const d={title:"Labels"},t=void 0,o={},r=[{value:"Overview",id:"overview",level:2},{value:"How Labels Work",id:"how-labels-work",level:2},{value:"Label Assignment",id:"label-assignment",level:3},{value:"Label Evaluation",id:"label-evaluation",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Setting Labels",id:"setting-labels",level:3},{value:"Label Size Configuration",id:"label-size-configuration",level:3},{value:"Ad Slot Filtering",id:"ad-slot-filtering",level:2},{value:"Filter Ad Slots with Labels",id:"filter-ad-slots-with-labels",level:3},{value:"Multiple Label Conditions",id:"multiple-label-conditions",level:3},{value:"OR Conditions",id:"or-conditions",level:3},{value:"Prebid Integration",id:"prebid-integration",level:2},{value:"Filter Bidders with Labels",id:"filter-bidders-with-labels",level:3},{value:"Conditional Bidding",id:"conditional-bidding",level:3},{value:"Size Configuration with Labels",id:"size-configuration-with-labels",level:2},{value:"Responsive Labels",id:"responsive-labels",level:3},{value:"Content-Based Sizing",id:"content-based-sizing",level:3},{value:"Dynamic Labels",id:"dynamic-labels",level:2},{value:"Page-Based Labels",id:"page-based-labels",level:3},{value:"User-Based Labels",id:"user-based-labels",level:3},{value:"Common Label Patterns",id:"common-label-patterns",level:2},{value:"Device Labels",id:"device-labels",level:3},{value:"Content Labels",id:"content-labels",level:3},{value:"User Labels",id:"user-labels",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Use Descriptive Names",id:"use-descriptive-names",level:3},{value:"Consistent Naming",id:"consistent-naming",level:3},{value:"Logical Grouping",id:"logical-grouping",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Available Methods",id:"available-methods",level:3},{value:"Example Usage",id:"example-usage",level:3}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Labels are generic identifiers that can be assigned to various entities in your ad tag configuration. They provide a flexible way to filter ad slots, prebid bids, and size configurations based on specific criteria."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Labels allow you to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Filter ad slots based on page context or user characteristics"}),"\n",(0,s.jsx)(n.li,{children:"Control which bidders participate in auctions"}),"\n",(0,s.jsx)(n.li,{children:"Apply different size configurations based on conditions"}),"\n",(0,s.jsx)(n.li,{children:"Create conditional ad configurations"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"how-labels-work",children:"How Labels Work"}),"\n",(0,s.jsx)(n.h3,{id:"label-assignment",children:"Label Assignment"}),"\n",(0,s.jsx)(n.p,{children:"Labels can be assigned to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ad slots"})," - Filter which slots are active"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prebid bids"})," - Control bidder participation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Size configurations"})," - Apply different sizes based on conditions"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"label-evaluation",children:"Label Evaluation"}),"\n",(0,s.jsx)(n.p,{children:"Labels are evaluated against:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Media queries"})," - Screen size and device characteristics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Page context"})," - URL, content type, user state"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom conditions"})," - Any JavaScript expression"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.h3,{id:"setting-labels",children:"Setting Labels"}),"\n",(0,s.jsx)(n.p,{children:"Set labels that will be available for filtering:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Set labels before requesting ads\nwindow.moli.addLabel('mobile');\nwindow.moli.addLabel('premium-user');\nwindow.moli.addLabel('sports-content');\n\n// Request ads with labels applied\nwindow.moli.requestAds();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"label-size-configuration",children:"Label Size Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Configure which sizes are available based on labels:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const moliConfig: Moli.MoliConfig = {\n  slots: [ /* ... */ ],\n  // highlight-start\n  labelSizeConfig: [\n    {\n      labelsSupported: ['mobile'],\n      mediaQuery: '(max-width: 767px)'\n    },\n    {\n      labelsSupported: ['desktop'],\n      mediaQuery: '(min-width: 768px)'\n    },\n    {\n      labelsSupported: ['premium-user'],\n      // No media query - label only\n    }\n  ]\n  // highlight-end\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ad-slot-filtering",children:"Ad Slot Filtering"}),"\n",(0,s.jsx)(n.h3,{id:"filter-ad-slots-with-labels",children:"Filter Ad Slots with Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const slot: Moli.AdSlot = {\n  domId: 'content_1',\n  adUnitPath: '/1234/content_1',\n  sizes: [[300, 250], [728, 90]],\n  position: 'in-page',\n  behaviour: { loaded: 'eager' },\n  \n  // highlight-start\n  // Only show this slot on mobile devices\n  labelAll: ['mobile']\n  // highlight-end\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"multiple-label-conditions",children:"Multiple Label Conditions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const slot: Moli.AdSlot = {\n  domId: 'premium_1',\n  adUnitPath: '/1234/premium_1',\n  sizes: [[300, 250]],\n  position: 'in-page',\n  behaviour: { loaded: 'eager' },\n  \n  // highlight-start\n  // Show only for premium users on desktop\n  labelAll: ['premium-user', 'desktop']\n  // highlight-end\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"or-conditions",children:"OR Conditions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const slot: Moli.AdSlot = {\n  domId: 'sidebar_1',\n  adUnitPath: '/1234/sidebar_1',\n  sizes: [[300, 250]],\n  position: 'in-page',\n  behaviour: { loaded: 'eager' },\n  \n  // highlight-start\n  // Show for either mobile or tablet\n  labelAny: ['mobile', 'tablet']\n  // highlight-end\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"prebid-integration",children:"Prebid Integration"}),"\n",(0,s.jsx)(n.h3,{id:"filter-bidders-with-labels",children:"Filter Bidders with Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const slot: Moli.AdSlot = {\n  domId: 'content_1',\n  adUnitPath: '/1234/content_1',\n  sizes: [[300, 250]],\n  position: 'in-page',\n  behaviour: { loaded: 'eager' },\n  \n  prebid: {\n    adUnit: {\n      mediaTypes: {\n        banner: { sizes: [[300, 250]] }\n      },\n      bids: [\n        {\n          bidder: 'appNexus',\n          params: { placementId: 123 },\n          // highlight-start\n          // Only bid on mobile devices\n          labelAll: ['mobile']\n          // highlight-end\n        },\n        {\n          bidder: 'criteo',\n          params: { networkId: 456 },\n          // highlight-start\n          // Only bid for premium users\n          labelAll: ['premium-user']\n          // highlight-end\n        }\n      ]\n    }\n  }\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"conditional-bidding",children:"Conditional Bidding"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const slot: Moli.AdSlot = {\n  domId: 'content_1',\n  adUnitPath: '/1234/content_1',\n  sizes: [[300, 250]],\n  position: 'in-page',\n  behaviour: { loaded: 'eager' },\n  \n  prebid: {\n    adUnit: {\n      mediaTypes: {\n        banner: { sizes: [[300, 250]] }\n      },\n      bids: [\n        {\n          bidder: 'rubicon',\n          params: { accountId: 789 },\n          // highlight-start\n          // Bid on either sports or news content\n          labelAny: ['sports-content', 'news-content']\n          // highlight-end\n        }\n      ]\n    }\n  }\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"size-configuration-with-labels",children:"Size Configuration with Labels"}),"\n",(0,s.jsx)(n.h3,{id:"responsive-labels",children:"Responsive Labels"}),"\n",(0,s.jsx)(n.p,{children:"While media queries are usually sufficient you can combine labels and media queries for additional responsives."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const slot: Moli.AdSlot = {\n  domId: 'content_1',\n  adUnitPath: '/1234/content_1',\n  sizes: [[300, 250], [728, 90], [970, 250]],\n  position: 'in-page',\n  behaviour: { loaded: 'eager' },\n  \n  // highlight-start\n  sizeConfig: [\n    {\n      mediaQuery: '(max-width: 767px)',\n      sizesSupported: [[300, 250]],\n      labels: ['mobile']\n    },\n    {\n      mediaQuery: '(min-width: 768px) and (max-width: 1023px)',\n      sizesSupported: [[728, 90]],\n      labels: ['tablet']\n    },\n    {\n      mediaQuery: '(min-width: 1024px)',\n      sizesSupported: [[970, 250]],\n      labels: ['desktop']\n    }\n  ]\n  // highlight-end\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"content-based-sizing",children:"Content-Based Sizing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const slot: Moli.AdSlot = {\n  domId: 'content_1',\n  adUnitPath: '/1234/content_1',\n  sizes: [[300, 250], [728, 90]],\n  position: 'in-page',\n  behaviour: { loaded: 'eager' },\n  \n  // highlight-start\n  sizeConfig: [\n    {\n      mediaQuery: '(min-width: 768px)',\n      sizesSupported: [[728, 90]],\n      labels: ['article-content']\n    },\n    {\n      mediaQuery: '(min-width: 768px)',\n      sizesSupported: [[300, 250]],\n      labels: ['gallery-content']\n    }\n  ]\n  // highlight-end\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"dynamic-labels",children:"Dynamic Labels"}),"\n",(0,s.jsx)(n.h3,{id:"page-based-labels",children:"Page-Based Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Set labels based on page content\nfunction setPageLabels() {\n  const url = window.location.pathname;\n  \n  if (url.includes('/sports/')) {\n    window.moli.addLabel('sports-content');\n  } else if (url.includes('/news/')) {\n    window.moli.addLabel('news-content');\n  }\n  \n  if (url.includes('/premium/')) {\n    window.moli.addLabel('premium-content');\n  }\n}\n\n// Set labels before requesting ads\nsetPageLabels();\nwindow.moli.requestAds();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"user-based-labels",children:"User-Based Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Set labels based on user characteristics\nfunction setUserLabels() {\n  // Check if user is logged in\n  if (window.user && window.user.isPremium) {\n    window.moli.addLabel('premium-user');\n  }\n  \n  // Check user location\n  if (window.user && window.user.country === 'US') {\n    window.moli.addLabel('us-user');\n  }\n  \n  // Check device type\n  if (window.innerWidth <= 767) {\n    window.moli.addLabel('mobile');\n  } else {\n    window.moli.addLabel('desktop');\n  }\n}\n\nsetUserLabels();\nwindow.moli.requestAds();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"common-label-patterns",children:"Common Label Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"device-labels",children:"Device Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Mobile devices\nwindow.moli.addLabel('mobile');\n\n// Desktop devices\nwindow.moli.addLabel('desktop');\n\n// Tablet devices\nwindow.moli.addLabel('tablet');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"content-labels",children:"Content Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Content categories\nwindow.moli.addLabel('sports-content');\nwindow.moli.addLabel('news-content');\nwindow.moli.addLabel('entertainment-content');\n\n// Content types\nwindow.moli.addLabel('article');\nwindow.moli.addLabel('video');\nwindow.moli.addLabel('gallery');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"user-labels",children:"User Labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// User segments\nwindow.moli.addLabel('new-user');\nwindow.moli.addLabel('returning-user');\nwindow.moli.addLabel('premium-user');\n\n// Geographic labels\nwindow.moli.addLabel('us-user');\nwindow.moli.addLabel('eu-user');\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"use-descriptive-names",children:"Use Descriptive Names"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// \u2705 Good - Clear and descriptive\nwindow.moli.addLabel('mobile-device');\nwindow.moli.addLabel('premium-subscriber');\n\n// \u274c Avoid - Unclear abbreviations\nwindow.moli.addLabel('mob');\nwindow.moli.addLabel('prem');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"consistent-naming",children:"Consistent Naming"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Use consistent naming across your site\nwindow.moli.addLabel('mobile');     // \u2705 Consistent\nwindow.moli.addLabel('desktop');    // \u2705 Consistent\nwindow.moli.addLabel('tablet');     // \u2705 Consistent\n\n// Avoid mixing styles\nwindow.moli.addLabel('mobile');     // \u274c Inconsistent\nwindow.moli.addLabel('DESKTOP');    // \u274c Inconsistent\n"})}),"\n",(0,s.jsx)(n.h3,{id:"logical-grouping",children:"Logical Grouping"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Group related labels\nwindow.moli.addLabel('device-mobile');\nwindow.moli.addLabel('device-desktop');\nwindow.moli.addLabel('device-tablet');\n\nwindow.moli.addLabel('content-sports');\nwindow.moli.addLabel('content-news');\nwindow.moli.addLabel('content-entertainment');\n"})}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsx)(n.h3,{id:"available-methods",children:"Available Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"addLabel(label)"})," - Add a label that will be available for filtering"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For detailed API documentation, see the ",(0,s.jsx)(n.a,{href:"/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliTag",children:"MoliTag API reference"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"example-usage",children:"Example Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Add labels\nwindow.moli.addLabel('mobile');\nwindow.moli.addLabel('premium-user');\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var l=i(6540);const s={},a=l.createContext(s);function d(e){const n=l.useContext(a);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);