"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[68189],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>t});var i=s(96540);const o={},l=i.createContext(o);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},28984:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"features/debugging","title":"Debugging","description":"Moli provides debugging tools to help you troubleshoot ad tag issues, monitor performance, and inspect configuration. The debugging system includes a debug console and various debugging parameters.","source":"@site/docs/features/debugging.md","sourceDirName":"features","slug":"/features/debugging","permalink":"/moli-ad-tag/docs/features/debugging","draft":false,"unlisted":false,"editUrl":"https://github.com/highfivve/moli-ad-tag/docs/features/debugging.md","tags":[],"version":"current","frontMatter":{"title":"Debugging"},"sidebar":"docs","previous":{"title":"Single Page Applications","permalink":"/moli-ad-tag/docs/features/single-page-app"},"next":{"title":"Logging","permalink":"/moli-ad-tag/docs/features/logger"}}');var o=s(74848),l=s(28453);const r={title:"Debugging"},t=void 0,d={},a=[{value:"Overview",id:"overview",level:2},{value:"Enabling Debug Mode",id:"enabling-debug-mode",level:2},{value:"Using Query Parameter",id:"using-query-parameter",level:3},{value:"Using Session Storage",id:"using-session-storage",level:3},{value:"Using Local Storage",id:"using-local-storage",level:3},{value:"Debug Console",id:"debug-console",level:2},{value:"Opening the Debug Console",id:"opening-the-debug-console",level:3},{value:"Debug Console Features",id:"debug-console-features",level:3},{value:"Debug Logging",id:"debug-logging",level:2},{value:"Log Sources",id:"log-sources",level:3},{value:"Test Environment",id:"test-environment",level:2},{value:"Debug Console Integration",id:"debug-console-integration",level:2},{value:"Custom Debug Path",id:"custom-debug-path",level:3},{value:"Debug Console Events",id:"debug-console-events",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Temporary Debugging",id:"temporary-debugging",level:3},{value:"Debug Console Usage",id:"debug-console-usage",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Available Methods",id:"available-methods",level:3},{value:"Debug Parameter",id:"debug-parameter",level:3}];function g(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Moli provides debugging tools to help you troubleshoot ad tag issues, monitor performance, and inspect configuration. The debugging system includes a debug console and various debugging parameters."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"The debugging system helps you:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Inspect ad tag configuration and state"}),"\n",(0,o.jsx)(n.li,{children:"Monitor network requests and responses"}),"\n",(0,o.jsx)(n.li,{children:"Debug consent and targeting issues"}),"\n",(0,o.jsx)(n.li,{children:"Analyze ad loading behavior"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"enabling-debug-mode",children:"Enabling Debug Mode"}),"\n",(0,o.jsx)(n.h3,{id:"using-query-parameter",children:"Using Query Parameter"}),"\n",(0,o.jsxs)(n.p,{children:["Enable debug mode by adding the ",(0,o.jsx)(n.code,{children:"moliDebug"})," parameter to your URL:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"https://yoursite.com?moliDebug=true\n"})}),"\n",(0,o.jsx)(n.h3,{id:"using-session-storage",children:"Using Session Storage"}),"\n",(0,o.jsx)(n.p,{children:"Enable debug mode for the current session:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// Enable debug mode for current session\nsessionStorage.setItem('moliDebug', 'true');\n\n// Disable debug mode\nsessionStorage.removeItem('moliDebug');\n"})}),"\n",(0,o.jsx)(n.h3,{id:"using-local-storage",children:"Using Local Storage"}),"\n",(0,o.jsx)(n.p,{children:"Enable debug mode persistently across sessions:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// Enable debug mode persistently\nlocalStorage.setItem('moliDebug', 'true');\n\n// Disable debug mode\nlocalStorage.removeItem('moliDebug');\n"})}),"\n",(0,o.jsx)(n.h2,{id:"debug-console",children:"Debug Console"}),"\n",(0,o.jsx)(n.h3,{id:"opening-the-debug-console",children:"Opening the Debug Console"}),"\n",(0,o.jsxs)(n.p,{children:["Use the ",(0,o.jsx)(n.code,{children:"openConsole"})," method to open the Moli debug console:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// Open debug console\nwindow.moli.openConsole();\n"})}),"\n",(0,o.jsx)(n.h3,{id:"debug-console-features",children:"Debug Console Features"}),"\n",(0,o.jsx)(n.p,{children:"The debug console provides:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configuration Inspector"}),": View current ad tag configuration"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"State Inspector"}),": View current ad tag state"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Targeting Inspector"}),": View current targeting values"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Consent Monitor"}),": Check consent state and TCF2 data"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"debug-logging",children:"Debug Logging"}),"\n",(0,o.jsx)(n.p,{children:"When debug mode is enabled, Moli provides detailed logging:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// Example debug output\n[DEBUG] AdPipeline Ad slot configured for content_1\n[INFO] GAM Ad request sent to /1234/content_1\n[WARN] Prebid Bid timeout for slot content_1\n[ERROR] AdPipeline Failed to load ad for content_1\n"})}),"\n",(0,o.jsx)(n.h3,{id:"log-sources",children:"Log Sources"}),"\n",(0,o.jsx)(n.p,{children:"Debug logs are categorized by source:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"AdPipeline"})," - Ad loading and processing pipeline"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"GAM"})," - Google Ad Manager operations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Prebid"})," - Header bidding operations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"MoliGlobal"})," - Global ad tag operations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"AdVisibilityService"})," - Ad visibility tracking"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"UserActivityService"})," - User activity monitoring"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"test-environment",children:"Test Environment"}),"\n",(0,o.jsxs)(n.p,{children:["You can enable the ",(0,o.jsx)(n.code,{children:"test"})," environment to enable test creatives that are rendered without any ad requests.\nThis is useful for"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"initial integration checks"}),"\n",(0,o.jsx)(n.li,{children:"size config validation"}),"\n",(0,o.jsx)(n.li,{children:"correct ad slot placement on the page"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You can permanently enable the test mode, e.g. in staging environments through the configuration like this."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const moliConfig: Moli.MoliConfig = {\n  environment: 'test',\n  slots: [ /* ... */ ]\n};\n\n// No real ad requests are made\n"})}),"\n",(0,o.jsx)(n.h2,{id:"debug-console-integration",children:"Debug Console Integration"}),"\n",(0,o.jsx)(n.h3,{id:"custom-debug-path",children:"Custom Debug Path"}),"\n",(0,o.jsx)(n.p,{children:"You can specify a custom path for the debug console script:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// Open debug console with custom path\nwindow.moli.openConsole('https://custom-debug-path.com/debug.js');\n"})}),"\n",(0,o.jsx)(n.h3,{id:"debug-console-events",children:"Debug Console Events"}),"\n",(0,o.jsx)(n.p,{children:"The debug console provides real-time updates:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Configuration changes"}),"\n",(0,o.jsx)(n.li,{children:"Ad loading events"}),"\n",(0,o.jsx)(n.li,{children:"Error occurrences"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"temporary-debugging",children:"Temporary Debugging"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// \u2705 Good - Enable debug mode temporarily\nlocalStorage.setItem('moliDebug', 'true');\n\n// Debug your issue...\n\n// Disable when done\nlocalStorage.removeItem('moliDebug');\n\n// \u274c Avoid - Leave debug mode enabled in production\nlocalStorage.setItem('moliDebug', 'true'); // Always enabled\n"})}),"\n",(0,o.jsx)(n.h3,{id:"debug-console-usage",children:"Debug Console Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// \u2705 Good - Open console after configuration\nwindow.moli.que.push(function(moliAdTag) {\n  moliAdTag.configure(config);\n  moliAdTag.openConsole(); // Open after configuration\n  moliAdTag.requestAds();\n});\n\n// \u274c Avoid - Open console before configuration\nwindow.moli.openConsole(); // May not work properly\n"})}),"\n",(0,o.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,o.jsx)(n.h3,{id:"available-methods",children:"Available Methods"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"openConsole(path?)"})," - Open the Moli debug console"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For detailed API documentation, see the ",(0,o.jsx)(n.a,{href:"/api/types/moliRuntime/namespaces/MoliRuntime/interfaces/MoliTag",children:"MoliTag API reference"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"debug-parameter",children:"Debug Parameter"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"moliDebug"})," parameter can be set via:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Query parameter: ",(0,o.jsx)(n.code,{children:"?moliDebug=true"})]}),"\n",(0,o.jsxs)(n.li,{children:["Session storage: ",(0,o.jsx)(n.code,{children:"sessionStorage.setItem('moliDebug', 'true')"})]}),"\n",(0,o.jsxs)(n.li,{children:["Local storage: ",(0,o.jsx)(n.code,{children:"localStorage.setItem('moliDebug', 'true')"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"When enabled, detailed logging will be output to the console and the debug console will be available."})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(g,{...e})}):g(e)}}}]);