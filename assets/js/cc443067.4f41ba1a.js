"use strict";(self.webpackChunkthe_publisher_ad_tag=self.webpackChunkthe_publisher_ad_tag||[]).push([[950],{2695:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>t});var s=i(5893),o=i(1151);const l={},d="Interface: MoliConfig",a={id:"api/types/moliConfig/interfaces/MoliConfig",title:"Interface: MoliConfig",description:"Moli Configuration",source:"@site/docs/api/types/moliConfig/interfaces/MoliConfig.md",sourceDirName:"api/types/moliConfig/interfaces",slug:"/api/types/moliConfig/interfaces/MoliConfig",permalink:"/moli-ad-tag/docs/api/types/moliConfig/interfaces/MoliConfig",draft:!1,unlisted:!1,editUrl:"https://github.com/highfivve/moli-ad-tag/docs/api/types/moliConfig/interfaces/MoliConfig.md",tags:[],version:"current",frontMatter:{},sidebar:"API",previous:{title:"Interface: AdSlot",permalink:"/moli-ad-tag/docs/api/types/moliConfig/interfaces/AdSlot"},next:{title:"auction",permalink:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/auction/"}},r={},t=[{value:"Moli Configuration",id:"moli-configuration",level:2},{value:"Properties",id:"properties",level:2},{value:"a9?",id:"a9",level:3},{value:"adServer?",id:"adserver",level:3},{value:"buckets?",id:"buckets",level:3},{value:"consent?",id:"consent",level:3},{value:"domain?",id:"domain",level:3},{value:"Ad Unit Path Variables",id:"ad-unit-path-variables",level:2},{value:"Label",id:"label",level:2},{value:"Why ?",id:"why-",level:2},{value:"Examples",id:"examples",level:2},{value:"See",id:"see",level:4},{value:"globalAuctionContext?",id:"globalauctioncontext",level:3},{value:"gpt?",id:"gpt",level:3},{value:"pageSettingsConfig?",id:"pagesettingsconfig",level:4},{value:"labelSizeConfig?",id:"labelsizeconfig",level:3},{value:"modules?",id:"modules",level:3},{value:"Module configuration",id:"module-configuration",level:2},{value:"prebid?",id:"prebid",level:3},{value:"requestAds?",id:"requestads",level:3},{value:"Default",id:"default",level:4},{value:"schain",id:"schain",level:3},{value:"slots",id:"slots",level:3},{value:"spa?",id:"spa",level:3},{value:"targeting?",id:"targeting",level:3},{value:"version?",id:"version",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"interface-moliconfig",children:"Interface: MoliConfig"})}),"\n",(0,s.jsx)(n.h2,{id:"moli-configuration",children:"Moli Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Contains the configuration for the ad tag that is served from a backend."}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h3,{id:"a9",children:"a9?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"a9"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/headerbidding/interfaces/A9Config",children:(0,s.jsx)(n.code,{children:"A9Config"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Amazon A9 headerbidding configuration"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"adserver",children:"adServer?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"adServer"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/type-aliases/AdServer",children:(0,s.jsx)(n.code,{children:"AdServer"})})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["default is ",(0,s.jsx)(n.code,{children:"gam"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"buckets",children:"buckets?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"buckets"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/bucket/interfaces/GlobalBucketConfig",children:(0,s.jsx)(n.code,{children:"GlobalBucketConfig"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Configure bucketing behaviour"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"consent",children:"consent?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"consent"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/consent/interfaces/ConsentConfig",children:(0,s.jsx)(n.code,{children:"ConsentConfig"})})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"domain",children:"domain?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"domain"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:['Set the domain on which this ad tag runs. This should be the "top private domain", which is the ',(0,s.jsx)(n.code,{children:"subdomain"})," + ",(0,s.jsx)(n.code,{children:"public prefix"}),'.\nThe notion "top private domain" comes from the Google Guava library.']}),"\n",(0,s.jsx)(n.p,{children:"In general, it's recommended to set the domain in the ad tag configuration. As a fallback, the ad tag tries to\nextract the top private domain, but with a very limited implementation. This also fails if the ad tag is called\non other domains such as google.transl or in iframe integrations."}),"\n",(0,s.jsx)(n.h2,{id:"ad-unit-path-variables",children:"Ad Unit Path Variables"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"domain"})," will be used in the ",(0,s.jsx)(n.code,{children:"adUnitPathVariables"}),". A domain set via ",(0,s.jsx)(n.code,{children:"setAdUnitPathVariables"})," takes precedences over\nthe ad tag config. If neither ",(0,s.jsx)(n.code,{children:"domain"})," is set in the config, nor provided via ",(0,s.jsx)(n.code,{children:"setAdUnitPathVariables"}),", we make a best\neffort guess via ",(0,s.jsx)(n.code,{children:"window.location.hostname"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"label",children:"Label"}),"\n",(0,s.jsxs)(n.p,{children:["If set, the ",(0,s.jsx)(n.code,{children:"domain"})," will also be added as a label."]}),"\n",(0,s.jsx)(n.h2,{id:"why-",children:"Why ?"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"domain"})," is part of the ad unit path and used for targeting certain bidders that work on a per-domain basis."]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"example.com"})," - the most common domain"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"example.co.uk"})," - some country TLDs span the last two segments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"myblog.github.io"})," - github.io is a public suffix and subdomains are separate domains"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"my-sub-domain.my-domain.com"})," - my domain is not in the publc_suffix_list.dat , but I still use subdomains for different sites"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"see",children:"See"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://www.npmjs.com/package/parse-domain",children:"https://www.npmjs.com/package/parse-domain"})," npm package for root domain parsing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://publicsuffix.org/list/public_suffix_list.dat",children:"https://publicsuffix.org/list/public_suffix_list.dat"})," a list of all public suffixes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/google/guava/wiki/InternetDomainNameExplained",children:"https://github.com/google/guava/wiki/InternetDomainNameExplained"})," detailed explanation for TLD, public suffix and registry suffix"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"globalauctioncontext",children:"globalAuctionContext?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"globalAuctionContext"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/auction/interfaces/GlobalAuctionContextConfig",children:(0,s.jsx)(n.code,{children:"GlobalAuctionContextConfig"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Configure optimization through the global auction context"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"gpt",children:"gpt?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"gpt"}),": ",(0,s.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Google Publisher Tag configuration"}),"\n",(0,s.jsx)(n.h4,{id:"pagesettingsconfig",children:"pageSettingsConfig?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"pageSettingsConfig"}),": ",(0,s.jsx)(n.code,{children:"GptPageSettingsConfig"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"GPT page settings configuration."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"labelsizeconfig",children:"labelSizeConfig?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"labelSizeConfig"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/sizeConfigs/interfaces/LabelSizeConfigEntry",children:(0,s.jsx)(n.code,{children:"LabelSizeConfigEntry"})}),"[]"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:'Label configuration to support "responsive" ads.\nThis is an alternative solution to custom () => DfpSlotSize[] functions and is taken\nfrom prebid.js.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://prebid.org/dev-docs/publisher-api-reference.html#setConfig-Configure-Responsive-Ads",children:"https://prebid.org/dev-docs/publisher-api-reference.html#setConfig-Configure-Responsive-Ads"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"modules",children:"modules?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"modules"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/modules/interfaces/ModulesConfig",children:(0,s.jsx)(n.code,{children:"ModulesConfig"})})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"module-configuration",children:"Module configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Optional module configuration. Every module must be enabled individually and has its own configuration.\nA module may the access its configuration via the ",(0,s.jsx)(n.code,{children:"moli"})," configuration. This is very similar to how prebid handles\nmodule configuration."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"prebid",children:"prebid?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"prebid"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/headerbidding/interfaces/PrebidConfig",children:(0,s.jsx)(n.code,{children:"PrebidConfig"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"optional prebid configuration"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"requestads",children:"requestAds?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"requestAds"}),": ",(0,s.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If set to true, ads will immediately requested after the ad tag is loaded.\nThis is usually called ",(0,s.jsx)(n.code,{children:"instant"})," mode."]}),"\n",(0,s.jsxs)(n.p,{children:["Set this to ",(0,s.jsx)(n.code,{children:"false"})," if the publisher calls ",(0,s.jsx)(n.code,{children:"moli.requestAds()"})," on their and, because they need to"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["configure additional parameters via the ",(0,s.jsx)(n.code,{children:"set*"})," and ",(0,s.jsx)(n.code,{children:"add*"})," API on the ",(0,s.jsx)(n.code,{children:"moli"})," global"]}),"\n",(0,s.jsx)(n.li,{children:"want to defer ad loading to a certain point"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["We call this the ",(0,s.jsx)(n.code,{children:"publisherMode"})]}),"\n",(0,s.jsx)(n.h4,{id:"default",children:"Default"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"false"})," (publisherMode)"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"schain",children:"schain"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.strong,{children:"schain"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/schain/interfaces/SupplyChainConfig",children:(0,s.jsx)(n.code,{children:"SupplyChainConfig"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"supply chain object"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"slots",children:"slots"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.strong,{children:"slots"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/interfaces/AdSlot",children:(0,s.jsx)(n.code,{children:"AdSlot"})}),"[]"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"all possible ad slots"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"spa",children:"spa?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"spa"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/spa/interfaces/SinglePageAppConfig",children:(0,s.jsx)(n.code,{children:"SinglePageAppConfig"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Optional configuration for single page"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"targeting",children:"targeting?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"targeting"}),": ",(0,s.jsx)(n.a,{href:"/moli-ad-tag/docs/api/types/moliConfig/namespaces/googleAdManager/interfaces/Targeting",children:(0,s.jsx)(n.code,{children:"Targeting"})})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"optional key-value targeting for DFP"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"version",children:"version?"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"readonly"})," ",(0,s.jsx)(n.code,{children:"optional"})," ",(0,s.jsx)(n.strong,{children:"version"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The version of the ad tag. This is used to identify the version of the ad tag\nthat is served to the client. This is useful for debugging purposes."})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>d});var s=i(7294);const o={},l=s.createContext(o);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);